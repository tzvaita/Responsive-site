/**
 * QuantX Serve v2.15.5
 * 2019-10-31
 */
!(function(pe,V){function F(){if(pe.parent!==pe)try{return void 0!==pe.parent.document}catch(e){}return!1}var ue,z={},W=!1,J=(function(){try{return V.currentScript.getAttribute("src")}catch(e){return (function(){var e=new Error;if(!e.stack)try{throw e}catch(e){}return(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(e.stack)||[!1])[1]})()}})();if(J&&0<J.indexOf("?"))for(var e=J.substr(J.indexOf("?")+1).split("&"),t=0;t<e.length;t++){var a=e[t].split("=");z[a[0]]=a[1]}W=!!z.eanPlacementIdOnly;var me=pe,ge=V;function n(){var K,a,n,i,r;if(me.ean=me.ean||{},a=Object.prototype.toString,n=Function.prototype.toString,i=/^\[object .+?Constructor\]$/,r=RegExp("^"+String(a).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),IsNative=function(e){var t=typeof e;return"function"==t?r.test(n.call(e)):e&&"object"==t&&i.test(a.call(e))||!1},IsNative(me.Function.bind)||(me.Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),a=this,n=function(){},i=function(){return a.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),i.prototype=new n,i}),z.checkSelectorOnIframe&&(me=pe,ge=V),z.checkVisibilityOnTop&&(me.ean=me.ean||{},me.ean.checkVisibilityOnTop=!0),z.eanPlacementIdOnly&&(W=!0,K=z.eanPlacementIdOnly),me.ean&&me.ean.tagMode&&"quantx"===me.ean.tagMode&&me.ean.placementsById&&W&&0<Object.keys(me.ean.placementsById).length)return me.ean.placementsById[K]?(-1!==pe.location.href.indexOf("talktalk.co.uk")&&(me.ean.placementsById[K].sspParsed=!1),me.ean.initPlacement([me.ean.placementsById[K]],K)):me.ean.console.warn("PlacementId not found in placement List. eanPlacementIdOnly=",K),me.ean;if(!(!me.ean||!me.ean.loaded||me.ean&&me.ean.forceReloadScript||W||-1!==pe.location.href.indexOf("talktalk.co.uk")))return me.ean;if(me.ean&&me.ean.forceReloadScript?me.ean={}:me.ean=me.ean||{},me.ean.tagMode="quantx",me.ean.placements={},me.ean.placementsByAPXID={},me.ean.placementsNotVisible=[],me.ean.processing=!0,me.ean.processedPlacements={},me.ean.placementsById={},me.ean.nativeAds={},me.ean.nativeAdsSource={},me.ean.nativeAdsSourceByVid={},me.ean.articlePlacement={},me.ean.adUnits=[],me.ean.isIntegrationDSP=[],me.ean.dspLoadExtras=[],me.ean.videosOnAutoPlay=[],me.ean.initialized=!1,me.ean.loaded=!1,me.ean.ean_window_ready=!1,me.ean.iframes={},me.ean.monthNames={en:["January","February","March","April","May","June","July","August","September","October","November","December"],fr:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],it:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},me.ean.prebid_que||(me.ean.prebid_que=[]),ue=me.ean,me.ean.console={addBadge:function(e,t){var a=(e=[].slice.call(e)).shift(),n="color:white;background-color:"+t+";padding:1px 5px;border-radius:5px;font-weight:bold;margin-right:3px";return("string"==typeof a||a instanceof String)&&0===a.indexOf("%c")?e.unshift("%cNativeEmbed"+a,n):e.unshift("%cNativeEmbed",n,a),e},log:function(){console.log.apply(this,this.addBadge(arguments,"#0085d5"))},debug:function(){console.log.apply(this,this.addBadge(arguments,"darkgreen"))},info:console.info,warn:console.warn,error:console.error},void 0===ge.querySelector)if(ge.querySelectorAll=function(e){var t,a,n,i,r=e.split(","),s=function(e,t){var a,n,i,r,s,o,l,c,d,p,u,m,g,v=t.split(/[ >]+/),h=t.match(/[ >]+/g)||[],_=[e];for(h.unshift(" ");a=v.shift();)for((n=h.shift())&&(n=n.replace(/^ +| +$/g,"")),i=_.slice(0),_=[],r=i.length,l=(o=a.match(/[#.[]?[a-z_-]+(?:='[^']+'|="[^"]+")?]?/gi)).length,s=0;s<r;s++)if("#"==o[0].charAt(0))_=[ge.getElementById(o[0].substr(1))];else{if(!(d=">"==n?i[s].children:i[s].getElementsByTagName("*")))continue;for(u=d.length,p=0;p<u;p++){for(m=!0,c=0;c<l;c++){switch(o[c].charAt(0)){case".":d[p].className.match(new RegExp("\\b"+o[c].substr(1)+"\\b"))||(m=!1);break;case"[":g=o[c].substr(1,o[c].length-2).split("="),d[p].getAttribute(g[0])?g[1]&&(g[1]=g[1].replace(/^['"]|['"]$/g,""),d[p].getAttribute(g[0])!=g[1]&&(m=!1)):m=!1;break;default:d[p].tagName.toLowerCase()!=o[c].toLowerCase()&&(m=!1)}if(!m)break}m&&_.push(d[p])}}return _},o=r.length,l=[];for(t=0;t<o;t++)for(n=(a=s(this,r[t])).length,i=0;i<n;i++)l.push(a[i]);return l},ge.querySelector=function(e){var t=this.querySelectorAll(e);return 0<t.length?t[0]:null},"undefined"!=typeof HTMLElement)HTMLElement.prototype.querySelector=ge.querySelector,HTMLElement.prototype.querySelectorAll=ge.querySelectorAll;else{[].push((function(){var e,t=ge.getElementsByTagName("*"),a=t.length;for(e=0;e<a;e++)t[e].querySelector=ge.querySelector,t[e].querySelectorAll=ge.querySelectorAll}))}if(me.ean.utils={listeners:{},eventRaised:{},on:function(e,t){this.listeners[e]=this.listeners[e]?this.listeners[e]:[],this.listeners[e].push(t)},emit:function(e){var t=arguments;[].slice.call(t).shift(),this.eventRaised[e]=t,this.listeners[e]&&this.listeners[e].forEach((function(e){e.apply(null,t)}))},waitOnce:function(e,t){return this.eventRaised[e]?t.apply(null,this.eventRaised[e]):this.on(e,t)},removeListener:function(e,t){this.listeners[e]&&this.listeners[e][this.listeners[e].indexOf(t)]&&delete this.listeners[e][this.listeners[e].indexOf(t)]},extend:function(e,t){if(e&&t)for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},isEmpty:function(e){if(null==e)return!0;if(0<e.length)return!1;if(0===e.length)return!0;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},parseContent:function(e){if(!e)return"";var t=new RegExp("<script","g");return e=e.replace(t,'<script data-eascript="true"')},strip:function(e,t){if("string"!=typeof e)return null;var a=e.split(" ");return null==t||isNaN(t)||String(e).length>Number(t)&&(e=String(e).substr(0,t),(e=String(e).split(" "))[e.length-1]!=a[e.length-1]&&1<e.length&&e.pop(),e=e.join(" "),e+="..."),e},checkSelectors:function(e,t,a){for(var n="and"===a,i=0;i<e.length;i++){var r=me.document.querySelector(e[i])?t:!t;if("and"===a)n=n&&r;else if(n=n||r,!1===t&&!0===n)break}return n},checkAllowedURLs:function(e,t,a){var n,i=!t,r=me.location.href;me.ean.checkVisibilityOnTop&&F()&&((r=ge.baseURI)||(r=(n=V.getElementsByTagName("base")).length?n[0].href:ge.URL));for(var s in e)if(1==a){if((r=me.location.hostname+me.location.pathname)==e[s]||me.location.protocol+"//"+r==e[s]){i=t;break}}else if(-1<r.indexOf(e[s])){i=t;break}return i},checkStatus:function(e){var t=!0,a=me.ean.utils.getParameterByName("ean-pid-only");if(a&&e.pid!=a)return!1;var n=e&&e.template?e.template:null;return n&&(n.strict_urls&&(t=me.ean.utils.checkAllowedURLs(n.strict_urls,!0,!0)),t&&n.strict_blocked_urls&&(t=me.ean.utils.checkAllowedURLs(n.strict_blocked_urls,!1,!0)),t&&n.allowed_urls&&(t=me.ean.utils.checkAllowedURLs(n.allowed_urls,!0,!1)),t&&n.blocked_urls&&(t=me.ean.utils.checkAllowedURLs(n.blocked_urls,!1,!1)),t&&n.allowed_selectors&&(t=me.ean.utils.checkSelectors(n.allowed_selectors,!0,n.allowed_selectors_operator||"and")),t&&n.blocked_selectors&&(t=me.ean.utils.checkSelectors(n.blocked_selectors,!1,n.blocked_selectors_operator||"and")),t&&!1===n.allow_mobile&&me.ean.utils.isMobile()&&(t=!1),t&&!1===n.allow_desktop&&!me.ean.utils.isMobile()&&(t=!1)),e&&t&&e.status&&("scanning"==e.status||"waiting"==e.status||"active"==e.status||"ready_for_test_campaign"==e.status||"ready_to_test"==e.status&&(me.ean.utils.getParameterByName("ean-test-native")||me.ean.utils.getParameterByName("ean-testall-native"))||"pending"==e.status&&me.ean.utils.getParameterByName("ean-testall-native"))},replaceHtml:function(e,t,a,n,i,r,s){me.ean.console.log("dataSettings",t);var o=t.tags,l=r.position,c=r.max_chars,d=r.selector_index||0;for(var p in o){var u=null;c&&c[p]&&(u=c[p]);var m=o[p],g=me.ean.utils.strip(m,u);g=me.ean.utils.parseContent(g),e=me.ean.utils.replaceParam(e,p,g)}var v=e.match(/\{ea_date\("(.*?)","(.*?)"(?:,?"?([a-z]{2})?"?)\)\}/g);if(v&&v.length)for(var h=0;h<v.length;h++){var _=String(v[h]),f=/\{ea_date\("(.*?)","(.*?)"(?:,?"?([a-z]{2})?"?)\)\}/g.exec(_);if(f){var y=me.ean.utils.getEADate(f[1]||"/",f[2]||"dmy",f[3]||"en");e=e.replace(_,y)}}var b=null;if(a&&(b=me.document.querySelectorAll(a)[parseInt(d)]),b){var x=ue.utils.getValidChildren(r.child_selector?me.document.querySelectorAll(r.child_selector):b.children),k=x[Math.min(Number(l)||0,x.length-1)];switch(n){case"every":var A=r.frequency||2;r.addedFirst||(A=0,r.addedFirst=!0),r.position=l+A+1,l+=A,k=x[Math.min(l,x.length-1)];case"insert_before":"insert_before"===n&&(k=me.document.querySelectorAll(r.before_selector)[r.before_selector_index||0]||b.children[l||0]);case"insert_at":var w;switch(b.tagName.toUpperCase()){default:w=me.document.createElement("div");break;case"TBODY":case"TABLE":w=me.document.createElement("table"),me.ean.utils.insertHTML(w,"<tbody></tbody>"),w=w.children[0];break;case"TR":w=me.document.createElement("table"),me.ean.utils.insertHTML(w,"<tbody><tr></tr></tbody>"),w=w.getElementsByTagName("tr")[0]}me.ean.utils.insertHTML(w,e);var I=null,P=w.children.length;for(p=P-1;0<=p;p--){var S=(N=w.children[p]).getAttribute("class")||"";if(S+=" ean_element",p==P-1&&!0!==r.ea_native_element_added){if(i.ssp)for(var C=0;C<i.ssp.length;C++)"appnexus"===i.ssp[C].ssp_name&&"direct"===i.ssp[C].origin&&(S+=" ea_apx_pid_"+i.ssp[C].ssp_id),"improvedigital"===i.ssp[C].ssp_name&&(S+=" ea_improve_pid_"+i.ssp[C].ssp_id);S+=" ea_native_element ea_quantx_pid_"+i.pid,r.ea_native_element_added=!0}N.setAttribute("class",S),N.setAttribute("data-qtxpid",i.pid),"last"==l||0==b.children.length||parseInt(l)>=x.length?b.appendChild(N):b.insertBefore(N,k),"STYLE"!=N.nodeName&&(I=N)}I&&me.ean.utils.triggerEvent("ean-native-placement-show",{container:I,isChild:1<P,placement:i});break;default:try{var E=b.getAttribute("class")||"";if(!0!==r.ea_native_element_added){if(i.ssp)for(C=0;C<i.ssp.length;C++)"appnexus"===i.ssp[C].ssp_name&&"direct"===i.ssp[C].origin&&(E+=" ea_apx_pid_"+i.ssp[C].ssp_id),"improvedigital"===i.ssp[C].ssp_name&&(S+=" ea_improve_pid_"+i.ssp[C].ssp_id);E+=" ea_native_element ea_quantx_pid_"+i.pid,r.ea_native_element_added=!0}b.setAttribute("class",E),b.setAttribute("data-qtxpid",i.pid),me.ean.utils.insertHTML(b,e);var T=b.children.length;for(p=0;p<T;p++){var N;S=(N=b.children[p]).getAttribute("class")||"";N.setAttribute("class",S+" ean_element")}me.ean.utils.triggerEvent("ean-native-placement-show",{container:b,isChild:!1,placement:i})}catch(e){pe.console&&pe.console.log("EANative ERROR: Error inserting HTML",e)}}var B=["yahoo"],O=b.querySelector(".ean_element.ead_"+t.pid)?b.querySelector(".ean_element.ead_"+t.pid):b;t.adnx&&ue.dspLoadExtras[t.ah]&&-1===t.adnx.dsp.indexOf(B)?ue.dspLoadExtras[t.ah](O):me.ean.utils.isElementVisiblePercent(O,50)&&t.hasOwnProperty("adnx")&&-1<t.adnx.dsp.indexOf(B)&&setTimeout((function(){ue.dspLoadExtras[t.ah](O)}),1e3)}},initGptSlot:function(e,t){var a,n=e.pid;switch(e.type){case"native":a=e.template;break;case"article":a=e.article_template}var i=a.method||e.method,r=a.position,s=ue.googleAdUnits[n],o=a.selector_index||0,l=null;if(a.selector&&(l=me.document.querySelectorAll(a.selector)[parseInt(o)]),l){var c=ue.utils.getValidChildren(a.child_selector?me.document.querySelectorAll(a.child_selector):l.children),d=c[Math.min(Number(r)||0,c.length-1)];if("every"===i){var p=a.frequency||2;a.addedFirst||(p=0,a.addedFirst=!0),a.position=r+p+1,r+=p,d=c[Math.min(r,c.length-1)]}else"insert_before"===i&&(d=me.document.querySelectorAll(a.before_selector)[a.before_selector_index||0]||l.children[r||0]);me.ean.googleCreativeWon=!0;var u=V.createElement("iframe");u.style.borderLeft="none",u.style.width="100%",u.style.height="1px",u.frameBorder=0,u.marginHeight=0,u.marginWidth=0,u.scrolling="no",u.src="about:blank","last"==r||0==l.children.length||parseInt(r)>=c.length||!d||"replace"===i?l.appendChild(u):l.insertBefore(u,d),u.contentWindow.document.write('<html><head></head><body><div id="quantx-adx-ad"></div></body></html>');var m=u.contentWindow.document.createElement("script");m.src="//www.googletagservices.com/tag/js/gpt.js",u.contentWindow.document.head.appendChild(m);var g=u.contentWindow.document.createElement("script");g.text='var googletag = googletag || {};googletag.cmd = googletag.cmd || [];googletag.cmd.push(function () {googletag.defineSlot("'+s+'", ["fluid", [1,1]], "quantx-adx-ad").addService(googletag.pubads());',t&&(g.text+='var targeting = window.parent.eanpbjs.getAdserverTargetingForAdUnitCode("'+t+'");googletag.pubads().setTargeting("hb_pb", targeting["hb_pb"]);googletag.pubads().setTargeting("hb_format", "quantx_native");googletag.pubads().setTargeting("quantx_pid", "'+n+'");googletag.pubads().setTargeting("quantx_ad_unit_code", "'+t+'");'),g.text+='googletag.pubads().addEventListener("slotRenderEnded", function(event) {var method = "'+i+'";if (event.isEmpty) {window.frameElement.style.display = "none";window.parent.ean.renderDefaultCreative();return;}if (window.parent.ean.googleCreativeWon) {var adIframe = window.frameElement;if (method === "replace") {var container = window.frameElement.parentElement;for (var i = container.children.length-1; i>=0; i--) {if (container.children[i] !== adIframe ) container.removeChild(container.children[i]);}}function resizeAdIframe(counter) {adIframe.style.height = adIframe.contentWindow.document.body.scrollHeight + "px";if (counter > 0) setTimeout(resizeAdIframe, 1000, counter-1);}resizeAdIframe(5);} else {window.frameElement.style.display = "none";}});googletag.enableServices();googletag.display("quantx-adx-ad");});',u.contentWindow.document.body.appendChild(g),u.contentWindow.document.close(),me.ean.utils.triggerEvent("ean-native-placement-show",{container:l,isChild:!1,placement:e})}else me.ean.console.error("EANative ERROR: No container found for GPT slot")},triggerEvent:function(e,t){if(ge.createEvent){var a=ge.createEvent("Event");a.initEvent(e,!0,!0),a.data=t,a.eventType=e,ge.dispatchEvent&&ge.dispatchEvent(a)}},getElementIndex:function(e,t){for(var a=0;a<e.length;a++)if(e[a]==t)return a},getEADate:function(e,t,a){var n=new Date,i=9<n.getMonth()+1?n.getMonth()+1:"0"+(n.getMonth()+1),r=9<n.getDate()?n.getDate():"0"+n.getDate();a&&me.ean.monthNames[a]||(a="en");var s=[],o=t.split("");if(o)for(var l=0;l<o.length;l++)switch(o[l]){case"d":s.push(r);break;case"m":s.push(i);break;case"y":s.push(n.getFullYear());break;case"F":s.push(me.ean.monthNames[a][n.getMonth()]);break;case"K":s.push(me.ean.monthNames[a][n.getMonth()].slice(0,3));break;case"h":s.push(n.getHours());break;case"i":s.push(n.getMinutes());break;case"s":s.push(n.getSeconds())}return s.join(e)},replaceParam:function(e,t,a){var n=new RegExp("{"+t+"}","g");try{e=e.replace(n,a)}catch(e){}return e},loadScript:function(e,t,a,n){var i=a?a.contentWindow.document:me.document,r=me.document.getElementsByTagName("head")[0];n&&(r=me.document.getElementsByTagName("body")[0]);var s=a?a.contentWindow.document.body:r,o=i.createElement("script");return o.type="text/javascript",o.onload=t,o.async=!0,o.src=e,s.appendChild(o),o},loadImpressionEventTracker:function(e){1===parseInt(e.event,10)&&(e.method=parseInt(e.method,10),1===e.method?this.loadTrackerImage(e.url):2===e.method?this.loadScript(e.url):me.ean.console.log("%cTracker method %s is not supported.","color:red;",e.method))},loadTrackerImage:function(e,t,a){var n=t?t.contentWindow.document:me.document,i=t?t.contentWindow.document.body:me.document.getElementsByTagName("body")[0],r=n.createElement("img");return r.src=e,r.className=a||"ean-clicktracker",r.style.width=0,r.style.height=0,r.style.display="none",i.appendChild(r),r},loadPlacementConfig:function(e){e=e.replace("{domain}",me.ean.utils.getDomainName()),me.ean.utils.loadScript(e+"?r="+me.ean.utils.getRand())},getCookieByName:function(e){var t=V.cookie,a=e+"=",n=t.indexOf("; "+a);if(-1==n){if(0!=(n=t.indexOf(a)))return null}else{n+=2;var i=V.cookie.indexOf(";",n);-1==i&&(i=t.length)}return decodeURI(t.substring(n+a.length,i))},getParameterByName:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&#]"+e+"=([^&#]*)"),a=t.exec(me.location.search);return null==a&&(a=t.exec(me.location.hash)),null==a&&null!=me[e]?me[e]:null==a?null==me.ean.utils.getCookieByName(e)?"":me.ean.utils.getCookieByName(e):decodeURIComponent(a[1].replace(/\+/g," "))},getDomainName:function(){var e=ue.utils.getParameterByName("ean-domain");if(""!=e)return e;var t=me.location.hostname;me.ean.checkVisibilityOnTop&&F()&&(t=ge.domain),"www."==t.substr(0,4)&&(t=t.substr(4));for(var a="__ean__",n=0;n<ce.customDomainExtensions.length;n++){var i=ce.customDomainExtensions[n];t=t.replace(i,i.replace(/\./g,a))}var r=t.split(".");r.splice(0,r.length-2),t=r.join(".");var s=new RegExp(a,"g");return t=t.replace(s,".")},openURL:function(e,t,a,n){a&&""!=a&&(e=encodeURI(e)),e=(a||"")+e,t=t||"_self",n?me.open(e,t,n):me.open(e,t)},getRand:function(){return Math.random().toString(16).substr(2)},getValueFromPath:function(e,t,a){return"string"==typeof t?me.ean.utils.getValueFromPath(e,t.split("."),a):1==t.length&&void 0!==a?e[t[0]]=a:0==t.length?e:me.ean.utils.getValueFromPath(e[t[0]],t.slice(1),a)},isVisibleInsideIframeTEST:function(e,t,a){var n=V.querySelectorAll(e)[0],i=pe.top.scrollY||pe.top.pageYOffset,r=n.getBoundingClientRect(),s=t.getBoundingClientRect(),o=pe.top.innerHeight,l=s.top+r.top,c=s.top+r.top+r.height,d=-a<c&&l<o+a;return me.ean.console.log("xxx:",r,s,i,l,"<",o+a,c,">-",o,d),d},isVisibleInsideIframe:function(e,t){var a=t.offsetTop,n=V.querySelectorAll(e)[0].offsetTop+a,i=pe.top.scrollY||pe.top.pageYOffset;return n<i+pe.top.innerHeight&&i<n},getHighestLevelFriendlyIframe:function(e,t){return e.frameElement?me.ean.utils.getHighestLevelFriendlyIframe(e.frameElement.contentWindow.parent,e.frameElement):t=t||e},getTopWindow:function(e){return e.top},isElementVisible:function(e,t,a,n){var i=me,r=ge,s=null,o=a.template,l=o.visibility_offset?o.visibility_offset:400;if(me.ean.checkVisibilityOnTop&&F()&&i.frameElement)return me.ean.utils.isVisibleInsideIframeTEST(e,me.ean.utils.getHighestLevelFriendlyIframe(i),l);n||(n=o.position);var c=o.selector_index||0,d=null;e&&(d=i.document.querySelectorAll(e)[parseInt(c)]);var p=!1;if(d){var u=ue.utils.getValidChildren(o.child_selector?me.document.querySelectorAll(o.child_selector):d.children),m=(u=[].slice.apply(u).filter((function(e){return"script"!==e.localName})))[Math.min(Number(n)||0,u.length-1)];switch(t){case"insert_before":m=i.document.querySelectorAll(o.before_selector)[o.before_selector_index||0]||d.children[n||0];case"insert_at":"insert_before"==t||0!=n&&0!=u.length?"last"==n||parseInt(n)>=u.length-1?s=u[u.length-1]:(s=m,p=!0):s=d;break;case"every":s=u[Math.min(n,u.length-1)];break;default:s=d}}if(!s||null===s.offsetParent)return!1;s!==d&&"update"!=t||(p=!0);var g=i.pageYOffset;null==g&&(g=r.documentElement.scrollTop);var v=i.innerHeight;null==v&&(v=r.documentElement.clientHeight);var h=Math.max(g,0),_=h+v,f=me.ean.utils.getOffset(s),y=f+s.offsetHeight,b=!1;if(!(b=1==p?h-l<=f&&f<_+l:h-l<=y&&y<_+l)){var x=s.getBoundingClientRect();b=1==p?0<x.top&&x.top<v+l:0<x.bottom&&x.bottom<v+l}return me.ean.console.log("isVisible:",b),b},getOffset:function(e,t){t||(t="offsetTop");for(var a=0;isNaN(e[t])||(a+=e[t]),e=e.offsetParent;);return a},isElementVisiblePercent:function(e,t){var a=e.getBoundingClientRect(),n=me.pageYOffset;void 0===n&&(n=ge.documentElement.scrollTop);var i=me.innerHeight;void 0===i&&(i=ge.documentElement.clientHeight);var r=a.top+(t?a.height*t/100:0),s=a.bottom-(t?a.height*t/100:0);return 0<r&&s<i},replaceDiacritics:function(e){return e=(e=(e=(e=(e=(e=e.replace(/[ÁÀÂÃÄáàâãªä]/g,"a")).replace(/[ÉÈÊËéèêë&]/g,"e")).replace(/[óòôõöºÖÓÒÔÕ]/g,"o")).replace(/[úùûüÚÙÛÜ]/g,"u")).replace(/[íÍîïÏ]/g,"i")).replace(/[çÇ]/g,"c")},getStyle:function(e,t){var a="";return V.defaultView&&V.defaultView.getComputedStyle?a=V.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),a=e.currentStyle[t]),a},getValidChildren:function(e){var t=[];if(e&&0<e.length)for(var a=0;a<e.length;a++)1==e[a].nodeType&&t.push(e[a]);return t},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(me.navigator.userAgent)},isIOS:function(){return/(iPad|iPhone|iPod)/g.test(me.navigator.userAgent)},isTablet:function(){return 600<=Math.min(me.screen.height,me.screen.width)},replaceAll:function(e,t){for(var a in t)e=e.split(a).join(t[a]?t[a]:"");return e},replaceCreativeMacros:function(e,t){return null!=t.auctionid&&(e=e.replace(/\${AUCTION_ID}/g,t.auctionid)),this.replaceAll(e,{"${PUBLISHER_ID}":t.pubid,"${SITE_ID}":t.sid,"${TAG_ID}":t.pid,"${PLACEMENT_ID}":t.pid,"${CP_ID}":t.adnxsId,"${USER_COUNTRY}":t.country,"${CLICK_URL}":t.clickTAG,"${USER_ID}":t.uid,"${SSP_DATA}":t.sspData,"${CACHEBUSTER}":me.ean.utils.getRand(),"${CREATIVE_ID}":t.cid,"${CP_CODE}":t.cpCode})},getURLHostname:function(e){var t=ge.createElement("a");return t.href=e,t.hostname},base64url_encode:function(e){return e.replace("/","_").replace("+","-")},ajaxLoad:function(e,t,a,n,i){var r,s=H(),o=1<s&&s<10;if(r=pe.XMLHttpRequest&&!o?new XMLHttpRequest:o?new XDomainRequest:new ActiveXObject("Microsoft.XMLHTTP"),o?(r.onerror=function(){a(r,r.status)},r.onload=function(){t(r,r.responseText)}):r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(200==r.status?t(r,r.responseText):a(r,r.status))},r.open("GET",e,!0),null!=i&&(r.withCredentials=!0),null!=n)for(var l in n)n.hasOwnProperty(l)&&r.setRequestHeader(l,n[l]);r.send()},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},insertHTML:function(t,a){if(null!=t)try{if(t.outerHTML.includes("prism_iframe")){if((a=a.split("\n").join("").split("\t").join("")).includes("<iframe")){var e=a.split("<iframe"),i=[],r=[],n=0;e.forEach((function(e){if(e.includes("</iframe>")){var t=e.split("</iframe>");i.push("<iframe"+t[0]+"</iframe>")}else{var a=e.split('id="video_'),n="video_"+a[a.length-1].replace('">',"").split(" ").join("");r.push(n)}})),i.forEach((function(e){a=a.replace(e,""),n+=1}))}if(a.includes("script")){var s=[],o=[],l=a.split("<script");for(var n in l)if(!l[n].includes("<\/script>")||l[n].includes("jquery")||l[n].includes("bootstrap")||l[n].includes("touchSwipe.min.js")){if(l[n].includes('src="https://quantumadvertising.s3.eu-west-1.amazonaws.com/jquery"')){var c=l[n].split("src=")[1].split('"')[1],d=ge.createElement("script");d.src=c;var p="",u="";for(var m in l)l[m].includes("touchSwipe.min.js")&&(p=l[m].split("src=")[1].split('"')[1],a=a.replace("<script"+l[m].split("<\/script>")[0]+"<\/script>","")),l[m].includes('src="https://quantumadvertising.s3.eu-west-1.amazonaws.com/bootstrap"')&&(u=l[m].split("src=")[1].split('"')[1],a=a.replace("<script"+l[m].split("<\/script>")[0]+"<\/script>",""));""!==p&&""!==u?d.onload=function(){var e=pe.document.createElement("script");e.src=p,pe.document.head.appendChild(e);var t=pe.document.createElement("script");t.src=u,pe.document.head.appendChild(t)}:""!==p?d.onload=function(){var e=pe.document.createElement("script");e.src=p,pe.document.head.appendChild(e)}:""!==u&&(d.onload=function(){var e=pe.document.createElement("script");e.src=u,pe.document.head.appendChild(e)}),pe.document.head.appendChild(d),a=a.replace("<script"+l[n].split("<\/script>")[0]+"<\/script>","")}}else{var g=l[n].split("<\/script>")[0];if(g.includes('src="')){for(var v="";g.includes('src="');)v=g.split('src="')[1].split('"')[0],o.push(v),0<(g=g.split('src="').splice(2).join('src="')).length&&(g='src="'+g);a=a.replace("<script"+l[n].split("<\/script>")[0]+"<\/script>","")}else if(g.includes("src='")){for(v="";g.includes("src='");)v=g.split("src='")[1].split("'")[0],o.push(v),0<(g=g.split("src='").splice(2).join("src='")).length&&(g="src='"+g);a=a.replace("<script"+l[n].split("<\/script>")[0]+"<\/script>","")}else s[n]=g.split(">").splice(1,g.split(">").length).join(">"),s[n]=s[n].split('"').join('\\"').split("'").join("\\'"),a=a.replace("<script"+l[n].split("<\/script>")[0]+"<\/script>","")}}return t.innerHTML=a,[i,r,s,o]}t.innerHTML=a}catch(e){var h=me.document.createElement("DIV");h.innerHTML=a;for(n=0;n<h.children.length;n++)t.appendChild(h.children[n])}},getParentByClass:function(e,t){for(var a=t.toLowerCase();e&&e.parentNode;)if(-1<(e=e.parentNode).className.indexOf(a))return e;return null},disableConsoleLog:function(){me.ean.console.log=function(){},me.ean.console.debug=function(){},me.ean.console.info=function(){},me.ean.console.warn=function(){},me.ean.console.error=function(){}},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},lzw_encode:function(e){for(var t,a={},n=(e+"").split(""),i=[],r=n[0],s=256,o=1;o<n.length;o++)null!=a[r+(t=n[o])]?r+=t:(i.push(1<r.length?a[r]:r.charCodeAt(0)),a[r+t]=s,s++,r=t);i.push(1<r.length?a[r]:r.charCodeAt(0));for(o=0;o<i.length;o++)i[o]=String.fromCharCode(i[o]);return i.join("")},lzw_decode:function(e){for(var t,a={},n=(e+"").split(""),i=n[0],r=i,s=[i],o=256,l=1;l<n.length;l++){var c=n[l].charCodeAt(0);t=c<256?n[l]:a[c]?a[c]:r+i,s.push(t),i=t.charAt(0),a[o]=r+i,o++,r=t}return s.join("")}},"undefined"==typeof Promise&&me.ean.utils.loadScript("https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.4/bluebird.min.js"),"undefined"==typeof JSON){var e=me.document.createElement("script");e.type="text/javascript",e.src="http://cdn.elasticad.net/native/serve/js/helper/json3.min.gz.js",me.document.getElementsByTagName("head")[0].appendChild(e)}var _=0,Z=1,ee=100,p=101,te=200,s=201,ae=102,ne=2,ie=203,o=204,l={native:2,article:3,expanded:4},f={quantum:1,appnexus:2,appnexusAst:2},re={nativePlacementsConfigURL:"//{bucket}/native/placements/{domain}/pconfig",mediationExchangeRates:"{protocol}//{bucket}/native/serve/rates.json",articlePlacemensConfigURL:"//{bucket}/native/placements/{domain}/aconfig",vastEmbed:"{protocol}//{eaCDN}/native/serve/vastEmbed.html?vast=",vastTeaser:"{protocol}//{eaCDN}/native/serve/vastEmbed.html?vast=",prismContentURL:"{prism_serve}/prism/",prismCanvasJS:"{protocol}//cdn.prism-mob.com/serve/js/CanvasAd.gz.js",articleURL:"https://{bucket}/native/ad/{hash}/article/settings",nativeURL:"{protocol}//{bucket}/native/ad/{hash}/teaser/settings",cdnURL:"{protocol}//{cdn}",sharePageUrl:"http://{share_page_domain_url}/nredir.php?hash={ah}&href={encoded_article_link}&r="+me.ean.utils.getRand(),defaultSharePageUrl:"{share_page_domain}",resizeServerImagesPath:"{protocol}//resize-ssp.adux.com/{scalemode}-{wxh}/{hash}",eaImagesPath:"{protocol}//{cdnImg}/media/image/{hash}/{scalemode}-{wxh}",imagesPath:"{protocol}//{cdnImg}/media/image/{hash}/{scalemode}-{wxh}",eaOriginalImagesPath:"{protocol}//{cdnImg}/media/image/{hash}/original",originalImagesPath:"{protocol}//{cdnImg}/media/image/{hash}/original",externalResizeServerImagesPath:"{protocol}//resize-ssp.adux.net/{scalemode}-{wxh}/{hash}/external",externalImagesPath:"{protocol}//{cdnImg}/media/extimage/{hash}/{scalemode}-{wxh}",externalOriginalImagesPath:"{protocol}//{cdnImg}/media/extimage/{hash}/original",trackingURL:"//trackquantx.adux.com/v1/trk",integrationHelperURL:"{protocol}//{eaCDN}/native/serve/js/helper/integration/{dsp}_v2.gz.js",adChoiceIcon:"{protocol}//{eaCDN}/native/serve/media/adchoice.png"},se={brand_logo:"scaleh",defaultScale:"scalecrop"};ue.window=me,ue.document=ge;var t="s3.amazonaws.com/files.ssp.theadtech.com",c="d2lcoyv3ods5zz.cloudfront.net",d="cdn.elasticad.net",u="d2lcoyv3ods5zz.cloudfront.net",m="",v="http:",g="http://cdn.adnxs.com/",h="share.elasticad.net",y="ib.adnxs.com/ttj",b="sdev.sspqns.com/ul_cb/adn",x="//quantx.adux.com/articles:v1/GetAd/",k="//creativeservice.adux.com",A=(k="//dev.creativeservice.adux.com","//trackquantx.adux.com/v1/trk"),w=!1,I=!1,P="//resize-ssp.adux.com/{scalemode}-{wxh}/{hash}",S="//resize-ssp.adux.com/{scalemode}-{wxh}/{hash}/external";"true"===me.ean.utils.getParameterByName("ean-dev")&&(w=!0),"https:"==me.location.protocol&&(v=me.location.protocol);var C=v+"//quantumadvertising.s3.eu-west-1.amazonaws.com",oe=C+"/adstory/",le=C+"/adstoryBuilder",E=C+"/iframeFooter.js.gz";if(J&&(ue.prebidUrl="//cdn.elasticad.net/native/serve/js/quantx/prebid.gz.js?v=2",-1!=J.indexOf("nativeEmbed.gz.js")&&(ue.prebidUrl=J.substring(0,J.indexOf("nativeEmbed.gz.js"))+"prebid.gz.js?v=2"),-1!=J.indexOf("nativeEmbed.js")&&(ue.prebidUrl=J.substring(0,J.indexOf("nativeEmbed.js"))+"prebid.js"),-1!=J.indexOf("devfilesquantx.theadtech.com")?w=!0:-1!=J.indexOf("gcdn.elasticad.net")&&(I=!0)),w){m="dev.",u=c=cdnImg=t="devfilesquantx.theadtech.com.s3.amazonaws.com",d="devfiles.elasticad.net",C="http://quantumadvertising.s3.eu-west-1.amazonaws.com",A="http://dev.track.quantx.theadtech.com/v1/trk",b="sdev.sspqns.com/ul_cb/adn",x="//dev.quantx.theadtech.com/articles:v1/GetAd/",k="//dev.creativeservice.theadtech.com",P="//dev.resize.quantx.theadtech.com/{scalemode}-{wxh}/{hash}",S="//dev.resize.quantx.theadtech.com/{scalemode}-{wxh}/{hash}/external";var T="//devfiles.elasticad.net.s3.amazonaws.com/native/serve/media/adchoice.png";h="share.sharepage.dev.elasticad.net",z.liveSSP||(y="ib.client-testing.adnxs.net/ttj"),re.prismCanvasJS="http://devfiles.contad.theadtech.com.s3.amazonaws.com/serve/js/CanvasAd.gz.js"}else 1==I?(m="g",u=c="gpfiles.elasticad.net",cdnImg="storage.googleapis.com/gcdn.elasticad.net"):"true"!==me.ean.utils.getParameterByName("ean-debug")&&me.ean.utils.disableConsoleLog();for(var N in"https:"==v&&(g="https://a248.e.akamai.net/appnexus.download.akamai.com/89298/adnexus-prod/",y="secure.adnxs.com/ttj"),re){var B="articleURL"===N||"nativeURL"===N?"s3.amazonaws.com/files.elasticad.net":c,O="eaOriginalImagesPath"===N||"eaImagesPath"===N?"de5zarwna0j2q.cloudfront.net":u;"trackingURL"===N&&(re[N]=A),"adChoiceIcon"===N&&T&&(re[N]=T),"externalResizeServerImagesPath"===N&&(re[N]=S),"resizeServerImagesPath"===N&&(re[N]=P),"nativePlacementsConfigURL"===N?B=c:"mediationExchangeRates"===N&&(B=t),re[N]=re[N].replace("{bucket}",B).replace("{subdomain}",m).replace("{cdn}",u).replace("{eaCDN}",d).replace("{cdnImg}",O).replace("{protocol}",v).replace("{adnxs}",g).replace("{prism_serve}",C).replace("{share_page_domain}",h)}"true"==me.ean.utils.getParameterByName("ean-placement-preview")&&me.ean.utils.loadScript(v+"//"+u+"/native/serve/js/helper/nativePreviewEmbedHelper.gz.js?v=1.0");var ce={debug:w,uid:0,vid:0,h:0,defaultPlacementId:"30650",mediationPlacementIds:{12413085:{available:!0,placementAssignedId:null},12467529:{available:!0,placementAssignedId:null},12467530:{available:!0,placementAssignedId:null},12467532:{available:!0,placementAssignedId:null},12467533:{available:!0,placementAssignedId:null}},queryParams:z,customDomainExtensions:["elasticad.net.s3.amazonaws.com","elasticad.net","wordpress.com","elasticad.jumpeye.net","co.uk","elasticad.jumpeye.com","blogspot.ro","blogspot.com"],nativeAdSizes:{ttj:{size:"19x11",promo_sizes:"19x12,608x226,608x227"},ast:{sizes:[[19,11],[19,12],[608,226],[608,227]]}},sspTAG:"true"==me.ean.utils.getParameterByName("ean-test-ast")?"ast":"ttj",prebid:"false"!==z.prebid&&"true"!==me.ean.utils.getParameterByName("ean-skip-prebid")};me.ean.utils.getParameterByName("ean-debug")&&(ce.debug=!0),ue.URLPaths=re,ue.EAdConfig=ce,ue.getURLPath=function(e,t){switch(e){case"imagesPath":case"originalImagesPath":case"resizeServerImagesPath":switch(t){case"a":return re[e];default:return re["external"+e.charAt(0).toUpperCase()+e.slice(1)]}break;default:return re[e]}return""},ue.loadDataInIFrame=function(t,a,n){var i=ge.createElement("iframe"),e="load-ad-"+me.ean.utils.getRand();i.id=e;var r=ge.createElement("div");r.style.display="none",r.appendChild(i),i&&(i.src="about:blank",i.onload=function(){var e=i.contentWindow?i.contentWindow:i.contentDocument.document?i.contentDocument.document:i.contentDocument;e.document.open(),e.document.write(t),!1!==a&&e.document.close(),n&&(me.ean.iframes[n]=i),i.onload=null}),ge.body.appendChild(r)},ue.loadLandingPageInIFrame=function(e){var t=ge.createElement("iframe"),a="lp-"+me.ean.utils.getRand();t.id=a;var n=ge.createElement("div");n.style.visibility="hidden",n.style.position="absolute",n.style.left="-10000px",n.style.top="-10000px",n.style.top="-10000px",t.width=me.innerWidth,t.height=me.innerHeight,n.appendChild(t),t.src=e,ge.body.appendChild(n)},ue.defineSPPTag=function(e,t){if(ce.prebid){var a={};t.placementId=e,a.params=t,a.bidder="appnexus",ue.adUnits.push(a)}else switch(ce.sspTAG){case"ttj":me.ean.utils.extend(t,ce.nativeAdSizes[ce.sspTAG]);var n=v+"//"+y+"?";t.id=e;var i=[];for(var r in t)i.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));n+=i.join("&");var s=H(),o=!!(-1<s&&s<10),l="";o&&(l="<script type='text/javascript'>window.closeDocumentInterval =setInterval(function(){var scripts = document.getElementsByTagName('script');console.log(scripts.length); if(scripts.length>2){window.clearInterval(window.closeDocumentInterval);document.close();} }, 500);<\/script>");var c="<html><head></head><body><script type='text/javascript' src='"+n+"'><\/script>"+l+"</body></html>";ue.iframes[e]=null,ue.loadDataInIFrame(c,!o,e);break;case"ast":me.apntag=me.apntag||{},me.apntag.eanq=me.apntag.eanq||[],0==me.apntag.eanq.length&&(me.apntag={},me.apntag.eanq=[]),me.apntag.l||(me.apntag.l=!0,me.ean.utils.loadScript(v+"//acdn.adnxs.com/ast/ast.js"));var d={};for(var p in me.ean.utils.extend(d,ce.nativeAdSizes[ce.sspTAG]),d.tagId=Number(e),d.invCode=t.ext_inv_code,d.targetId="apn_ad_"+d.invCode,d.allowSmallerSizes=!1,d.disablePsa=!0,d.allowedFormats=["banner","native"],t)1==t[p]&&(t[p]="true"),0==t[p]&&(t[p]="false");d.keywords=t,me.apntag.eanq.push(d)}},ue.loadSSPSpots=function(){if(ce.prebid){if(0<ue.prebid_que.length)for(e=0;e<ue.prebid_que.length;e++);}else if("ast"==ce.sspTAG&&me.apntag&&me.apntag.eanq&&(me.apntag.anq=me.apntag.anq||[],0<me.apntag.eanq.length))for(var e=0;e<me.apntag.eanq.length;e++){var t=me.apntag.eanq[e];ue.loadASTTag(t)}},ue.loadASTTag=function(e){me.apntag.anq.push((function(){me.apntag.defineTag(e),me.apntag.onEvent("adAvailable","apn_ad_"+e.invCode,(function(e){switch(e.adType){case"native":ue.parseOpenRTBNativeAd(e);break;case"banner":if("csm"==e.source){for(var t=me.apntag.eanq,a=0;a<t.length;a++)if(e.tagId==t[a].tagId){t[a].ad&&t[a].ad.mediatedContent&&ue.loadDataInIFrame(t[a].ad.mediatedContent,!1,e.tagId);break}break}if(ue.loadDataInIFrame(e.banner.content),e.banner.trackers)for(var n=e.banner.trackers.concat();n.length;)for(var i=n.shift();i&&i.impression_urls&&0<i.impression_urls.length;)me.ean.utils.loadScript(i.impression_urls.shift())}})),me.apntag.loadTags()}))},ue.makeCORSRequest=function(e){var t=new XMLHttpRequest;return"withCredentials"in t?t.open("GET",e,!0):"undefined"!=typeof XDomainRequest?(t=new XDomainRequest).open("GET",e):t=null,t},ue.loadQuantumAd=function(e,t){e.hb_native&&(e.native=JSON.parse(e.hb_native)),e.dsp="Quantum",e.placementId=t,ue.initNativeAd(e)},ue.QuantumCriteoAd=function(e){var t={},a=null;if(!e.hb_criteo)return!1;a=JSON.parse(e.hb_criteo),ue.console.log("Criteo Quantum oRTB Ad:",e,a);var n=a.link,i=[],r="";a.jstracker&&(r=a.jstracker),a.imptrackers&&(i=a.imptrackers);var s=[];e.sync&&(s=e.sync),e.nurl&&i.push(e.nurl),a.view_notice_tracker&&i.push(a.view_notice_tracker),t.title=t.main_image=t.content=t.sponsor_logo=t.sponsor_name=t.sponsor_url=t.expanded_summary=t.full_text=t.autoexpand_content_type=t.teaser_type=t.video_url="",t.content_type="content_link",t.expanded_content_type="none",a.image_url&&(t.main_image=a.image_url),a.title&&(t.title=a.title),a.description&&(t.content=a.description),a.adomain&&a.adomain&&(t.sponsor_name=a.adomain,t.sponsor_url="//"+a.adomain);var o=a.click_url;t.sponsor_url||(t.sponsor_url=o),me.ean.dspLoadExtras[e.ah]=function(e){e=e.querySelector(".ead_adchoice")?e.querySelector(".ead_adchoice"):e;var t=me.document.createElement("a");""==e.style.position&&(e.style.position="relative"),t.href=a.privacy.click_url,t.target="_blank",t.style.display="block",t.style.position="absolute",t.style.top="5px",t.style.right="5px",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.height="auto",t.style.width="auto",t.style.zIndex="9999",t.innerHTML='<img src="'+a.privacy.image_url+'" style="width:19px; height:15px;">',e.appendChild(t)};var l={settings:{ah:e.ah,sharer_domain:null,click_trackers_images:n.clicktrackers,dynamic_variables:!!t.dynamic_variables&&JSON.parse(t.dynamic_variables),tags:{autoexpand_content_type:t.autoexpand_content_type,brand_logo:t.sponsor_logo,brand_name:t.sponsor_name,brand_url:t.sponsor_url,content_link:o,content_type:t.content_type,expanded_content_type:t.expanded_content_type,expanded_summary:t.expanded_summary,image_landscape:t.main_image,image_large_landscape:t.main_image,image_landscape_4x3:t.main_image,image_portrait:t.main_image,image_square:t.main_image,overlay_content:"",overlay_content_type:"embed",summary:t.content,teaser_type:t.teaser_type,title:t.title,video_url:t.video_url,full_text:t.full_text},type:"native"}};for(var c in ue.show(l),i){if(i[c])(m=me.document.createElement("img")).src=i[c],m.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(m)}if(r){var d=/<script[^>]*>([\s\S]+?)<\/script>/gi.exec(r);if(0<d.length){var p=d[1],u=(p=p.replace("var js_tracker = ['","").replace("']","")).split("', '");if(0<u.length)for(me.ean.console.log("scripts",u);u&&0<u.length;)me.ean.utils.loadScript(decodeURIComponent(u.shift()),null,null,!0)}}for(var c in(a.eventtrackers||[]).forEach(me.ean.utils.loadImpressionEventTracker.bind(me.ean.utils)),s){var m;if(s[c])(m=me.document.createElement("img")).src=s[c],m.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(m)}},ue.addAdChoicesIcon=function(e,t){t||(t={}),t.click_url||(t.click_url="http://www.adux.com/en/privacy/"),t.image_url||(t.image_url=ue.getURLPath("adChoiceIcon")),e=e.querySelector(".ead_adchoice")?e.querySelector(".ead_adchoice"):e;var a=me.document.createElement("a");me.ean.console.log("addAdChoiceIcon:",e,t);var n=null!==e.querySelector(".ea_link_cover .ead_content");""==e.style.position&&(e.style.position=n?"fixed":"relative"),a.href=t.click_url,a.target="_blank",a.className+=" ead_adchoice_url",a.style.display="block",a.style.position="absolute",n?(a.style.top="50px",a.style.right="50px"):(a.style.top="5px",a.style.right="5px"),a.style.margin="0px",a.style.padding="0px",a.style.border="none",a.style.height="auto",a.style.width="auto",a.style.zIndex="9999",a.innerHTML='<img class= "ead_adchoice_logo" src="'+t.image_url+'" style="width:16px; height:16px;">',n?e.querySelector(".ea_link_cover .ead_content").appendChild(a):e.appendChild(a)},ue.renderOutstreamVideo=function(e){ue.console.log("renderOutstreamVideo=",e);var t=ue.placementsById[e.placementId];return ue.clear(t.pid).then((function(){ue.configureDomo(t).utils.replaceHtml('<div id="'+e.code+'" class="ean_element ead_'+e.placementId+'"></div>',{},t.template.selector[0],t.template.method||t.method,t,t.template,!1),me.eanpbjs.renderAd(ge,e.hb_adid)})),!0},ue.QuantumInit=function(e){if(ue.console.log("Quantum:",e,typeof e.native),e.hb_criteo)ue.QuantumCriteoAd(e);else{var t={},a=e.native;if(!a)return!1;ue.console.log("Quantum oRTB Ad:",a);var n=a.assets,i=a.link,r="";a.jstracker&&(r=a.jstracker);var s=[];a.imptrackers&&(s=a.imptrackers);var o=[];e.sync&&(o=e.sync),e.nurl&&s.push(e.nurl),t.title=t.main_image=t.content=t.sponsor_logo=t.sponsor_name=t.sponsor_url=t.expanded_summary=t.full_text=t.autoexpand_content_type=t.teaser_type=t.video_url="",t.image_portrait=t.image_landscape=t.image_large_landscape=t.image_landscape_4x3="",t.content_type="content_link",t.expanded_content_type="none";for(var l=0;l<n.length;l++){var c=n[l];switch(c.id){case 1:t.title=c.title.text;break;case 2:t.sponsor_logo=c.img.url;break;case 3:t.content=c.data.value;break;case 4:t.main_image=c.img.url;break;case 6:t.teaser_type="vast",t.video_url=c.video.vasttag;break;case 10:t.sponsor_name=c.data.value;break;case 2001:t.expanded_content_type="embed",t.expanded_summary=c.data.value;break;case 2002:t.expanded_content_type="vast",t.expanded_summary=c.data.value;break;case 2003:t.sponsor_url=c.data.value;break;case 2004:t.mobile_content=c.data.value;break;case 2005:t.content_type="internal_landing_page",t.internal_content_link=c.data.value;break;case 2007:t.autoexpand_content_type=c.data.value;break;case 2022:t.content_type="full_text",t.full_text=c.data.value;break;case 2030:t.dynamic_variables=c.data.value;break;case 31:t.image_portrait=c.img.url;break;case 32:t.image_landscape=c.img.url;break;case 33:t.image_large_landscape=c.img.url;break;case 34:t.image_landscape_4x3=c.img.url}}var d=i.url;t.sponsor_url||(t.sponsor_url=d),"full_text"===t.content_type&&(i.clicktrackers||(i.clicktrackers=[]),i.clicktrackers.push(d));var p={settings:{ah:e.ah,sharer_domain:null,click_trackers_images:i.clicktrackers,dynamic_variables:!!t.dynamic_variables&&JSON.parse(t.dynamic_variables),tags:{autoexpand_content_type:t.autoexpand_content_type,brand_logo:t.sponsor_logo,brand_name:t.sponsor_name,brand_url:t.sponsor_url,content_link:d,content_type:t.content_type,expanded_content_type:t.expanded_content_type,expanded_summary:t.expanded_summary,image_landscape:""===t.image_landscape?t.main_image:t.image_landscape,image_large_landscape:""===t.image_large_landscape?t.main_image:t.image_large_landscape,image_landscape_4x3:""===t.image_landscape_4x3?t.main_image:t.image_landscape_4x3,image_portrait:""===t.image_portrait?t.main_image:t.image_portrait,image_square:t.main_image,overlay_content:"",overlay_content_type:"embed",mobile_content_type:t.mobile_content&&""!==t.mobile_content?t.mobile_content.includes("ADSTR")?"adstory":"prism":"",mobile_content:t.mobile_content?t.mobile_content:"",summary:t.content,teaser_type:t.teaser_type,title:t.title,video_url:t.video_url,full_text:t.full_text},type:"native"}};for(var l in ue.show(p),(a.eventtrackers||[]).forEach(me.ean.utils.loadImpressionEventTracker.bind(me.ean.utils)),s){if(s[l])(v=me.document.createElement("img")).src=me.ean.utils.replaceCreativeMacros(s[l],{pid:e.placementId}),v.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(v)}if(r){var u=/<script[^>]*>([\s\S]+?)<\/script>/gi.exec(r);if(0<u.length){var m=u[1],g=(m=m.replace("var js_tracker = ['","").replace("']","")).split("', '");if(0<g.length)for(me.ean.console.log("scripts",g);g&&0<g.length;)me.ean.utils.loadScript(me.ean.utils.replaceCreativeMacros(decodeURIComponent(g.shift()),{pid:e.placementId}),null,null,!0)}}for(var l in o){var v;if(o[l])(v=me.document.createElement("img")).src=o[l],v.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(v)}}},ue.defineQuantumSSPTag=function(t,e){for(var a in t.ssp){var n=t.ssp[a];if("quantum ssp"==n.ssp_name){e.auid=n.ssp_id;break}}var i=v+"//"+b+"?",r=[];for(var s in e)r.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));i+=r.join("&");var o=ue.makeCORSRequest(i);o.onload=function(){var e=JSON.parse(o.responseText);e&&(e.type="quantum",e.placementId=t.pid,e.dsp="Quantum"),ue.initNativeAd(e)},o.onerror=function(){me.ean.console.log("Woops, there was an error making the request.")},o.send()},ue.getPreBidAdUnits=function(){return ue.adUnits},ue.sendLossNotification=function(e){if(e){var t=me.document.createElement("img");return t.src=e,t.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(t),!0}return!1},ue.loadPreBidAd=function(e,a,t){if(me.ean.console.log("!!! LoadPrebidAdInside before ajaxLoad",e),e.hb_native){var n={};n.native=JSON.parse(e.hb_native),n.dsp="AppnexusNative",n.placementId=a,n.ortbNative=e.ortbNative,n.bid=e,n.ortbNative&&n.ortbNative.assetsurl?(me.ean.console.log("assetsurl found -> "+n.ortbNative.assetsurl),ue.utils.ajaxLoad(n.ortbNative.assetsurl,(function(e,t){me.ean.console.log("assetsurl loaded "+t);var a=JSON.parse(t);Object.keys(a).forEach((function(e){n.ortbNative[e]=a[e]})),(function(e,t){e&&(e.assets.forEach((function(e){if(e.title)t.title=e.title.text;else if(e.data)switch(e.data.type){case 1:t.sponsoredBy=e.data.value;break;case 2:t.body=e.data.value;break;case 3:t.rating=e.data.value;break;case 4:t.likes=e.data.value;break;case 5:t.downloads=e.data.value;break;case 6:t.price=e.data.value;break;case 7:t.salePrice=e.data.value;break;case 8:t.phone=e.data.value;break;case 9:t.address=e.data.value;break;case 10:t.body2=e.data.value;break;case 11:t.displayUrl=e.data.value;break;case 12:t.cta=e.data.value}else if(e.img)switch(e.img.type){case 2:t.icon={url:e.img.url,width:e.img.w,height:e.img.h};break;case 3:t.image={url:e.img.url,width:e.img.w,height:e.img.h}}})),e.eventtrackers?(t.impressionTrackers=t.impressionTrackers||[],e.eventtrackers.forEach((function(e){if(1===e.event)switch(e.method){case 1:t.impressionTrackers.push(e.url);break;case 2:t.javascriptTrackers='<script src="'+e.url+'"><\/script>'}}))):(t.impressionTrackers=e.imptrackers||[],t.javascriptTrackers=e.jstracker),e.link&&(t.clickUrl=e.link.url,t.clickTrackers=e.link.clicktrackers),e.privacy&&(t.privacyLink=e.privacy))})(n.ortbNative,n.native),ue.initNativeAd(n)}))):ue.initNativeAd(n)}else if(e.hb_adUrl)ue.utils.ajaxLoad(e.hb_adUrl,(function(e,t){ue.loadDataInIFrame(t,!1,a)}),(function(e,t){}));else if(e.hb_ad){var i="<html><head>"+e.hb_ad+"</head></html>";ue.loadDataInIFrame(i,!1,a)}else e.hb_adid&&(e.placementId=a,e.code=t,this.renderOutstreamVideo(e))},ue.AppnexusNativeInit=function(a){if(ue.console.log("Appnexus/Improve native:",a),!a.native)return!1;var t=a.native,e=t.impressionTrackers||[];if(t.nurl&&e.push(t.nurl),t.content_type="content_link",t.expanded_content_type="none",t.jsTrackers=t.jsTrackers||t.javascriptTrackers,t.jsTrackers)for(var n in t.jsTrackers.constructor!==Array&&(t.jsTrackers=[t.jsTrackers]),t.jsTrackers){var i=/<script[^>]*>([\s\S]*var js_tracker[\s\S]+?)<\/script>/gi.exec(t.jsTrackers[n]);if(i&&0<i.length&&"improvedigital"==a.bid.hb_bidder){var r=i[1],s=(r=r.replace("var js_tracker = ['","").replace("']","")).split("', '");if(0<s.length)for(me.ean.console.log("JS tracker scripts:",s);s&&0<s.length;)me.ean.utils.loadScript(me.ean.utils.replaceCreativeMacros(decodeURIComponent(s.shift()),{pid:a.bid.ssp_placement_id}),null,null,!0)}else{var o=ue.utils.parseContent(t.jsTrackers[n]);me.document.getElementsByTagName("body")[0].insertAdjacentHTML("beforeend",o)}}var l=(t.image&&t.image.url?t.image.url:t.image)||"",c=(t.icon&&t.icon.url?t.icon.url:t.icon)||"",d="",p=t.sponsor_name||"";t.sponsoredBy&&(-1!==t.sponsoredBy.indexOf("http")?d=t.sponsoredBy:(d=t.clickUrl,p=t.sponsoredBy)),(a.ortbNative&&a.ortbNative.assets||[]).forEach((function(e){if(e.data)switch(e.data.type){case 2001:t.expanded_content_type="embed",t.expanded_summary=e.data.value;break;case 2002:t.expanded_content_type="vast",t.expanded_summary=e.data.value;break;case 2003:t.sponsor_url=e.data.value;break;case 2004:t.mobile_content=e.data.value;break;case 2005:t.content_type="internal_landing_page",t.internal_content_link=e.data.value;break;case 2007:t.autoexpand_content_type=e.data.value;break;case 2022:t.content_type="full_text",t.full_text=e.data.value;break;case 2030:t.dynamic_variables=e.data.value}else if(e.img)switch(e.img.type){case 1031:t.image_portrait=e.img.url;break;case 1032:t.image_landscape=e.img.url;break;case 1033:t.image_large_landscape=e.img.url;break;case 1034:t.image_landscape_4x3=e.img.url}else e.video&&6===e.id&&(t.teaser_type="vast",t.video_url=e.video.vasttag)})),a.ortbNative&&a.ortbNative.ext&&a.ortbNative.ext.privacy&&(me.ean.dspLoadExtras[a.ah]=function(e){e=e.querySelector(".ead_adchoice")?e.querySelector(".ead_adchoice"):e;var t=me.document.createElement("a");""==e.style.position&&(e.style.position="relative"),t.href=a.ortbNative.ext.privacy.clickurl,t.target="_blank",t.style.display="block",t.style.position="absolute",t.style.top="5px",t.style.right="5px",t.style.margin="0px",t.style.padding="0px",t.style.border="none",t.style.height="auto",t.style.width="auto",t.style.zIndex="9999",t.innerHTML='<img src="'+a.ortbNative.ext.privacy.imageurl+'" style="width:19px; height:15px;">',e.appendChild(t)}),("full_text"===t.content_type||t.mobile_content)&&(t.clickTrackers=t.clickTrackers||[],t.clickTrackers.push(t.clickUrl));var u={settings:{ah:a.ah,sharer_domain:null,click_trackers:t.clickTrackers||[],dynamic_variables:!!t.dynamic_variables&&JSON.parse(t.dynamic_variables),tags:{autoexpand_content_type:t.autoexpand_content_type||"",brand_logo:c,brand_name:p,brand_url:d,content_link:t.clickUrl,content_type:t.content_type,expanded_content_type:t.expanded_content_type,expanded_summary:t.expanded_summary||"",image_landscape:t.image_landscape||l,image_large_landscape:t.image_large_landscape||l,image_landscape_4x3:t.image_landscape_4x3||l,image_portrait:t.image_portrait||l,image_square:l,overlay_content:"",overlay_content_type:"embed",mobile_content_type:t.mobile_content?t.mobile_content.includes("ADSTR")?"adstory":"prism":"",mobile_content:t.mobile_content?t.mobile_content:"",summary:t.body,teaser_type:t.teaser_type||"",title:t.title,video_url:t.video_url||"",full_text:t.full_text||""},type:"native"}};for(var n in ue.show(u),e)if(e[n]){var m=me.document.createElement("img");m.src=e[n],m.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(m)}},ue.initMouseFlowAPI=function(t){me.mfq=me.mfq||[],(function(){if(!me.ean.mouseFlowJSLoaded){var e=ge.createElement("script");e.type="text/javascript",e.async=!0,e.src="//cdn.mouseflow.com/projects/"+t+".js",ge.getElementsByTagName("head")[0].appendChild(e),me.ean.mouseFlowJSLoaded=!0}})()},ue.initSSPTag=function(o){if(me.ean.console.log("##### InitSSPTAG #####",o),o.mouseflow_site_id&&o.website_page_url){var e=me.location.hostname+me.location.pathname;e!=o.website_page_url&&me.location.protocol+"//"+e!=o.website_page_url||ue.initMouseFlowAPI(o.mouseflow_site_id)}var t=o.pid,a=ue.placements[t]||[],n="normal";a.push(o),ue.placements[t]=a,ue.placementsByAPXID[t]=o,me.ean.utils.isMobile()&&(n=me.ean.utils.isTablet()?"tablet":"phone");var s=me.ean.utils.getParameterByName("ean-test-quantx-hash"),l=me.ean.utils.getParameterByName("ean-test-cms-hash"),i=me.ean.utils.getParameterByName("ean-preview"),c=me.ean.utils.getParameterByName("ean-preview-creative-id");if(c){var r=v+k+"/getCreative?id="+c;(d=ue.makeCORSRequest(r)).onload=function(){var e=JSON.parse(d.responseText);if(!e[0].creative.settings)return!1;var t=JSON.parse(JSON.stringify(e[0].creative.settings)),a={};a.data=e[0].creative,a.data.settings.type="native",a.data.settings.ah=c;var n={type:"native"};n.placementId=o.pid,n.dsp="Quantum",n.dspData=t,n.ah=c,n.adUnit=o.pid;var i=ue.nativeAds[n.ah]||[];i.push(n),ue.nativeAds[n.ah]=i,n.adnxsId=n.adnxsId||n.adUnit;var r=n.placementId?n.placementId:ue.sspNativePlacementsDict[n.adnxsId],s=ue.placements[r];s&&null!=s.length&&(s=s.shift()),s&&(ue.processedPlacements[n.adnxsId]=ue.processedPlacements[n.adnxsId]||[],ue.processedPlacements[n.adnxsId].push(s)),ue.show(a.data)},d.onerror=function(){me.ean.console.log("Woops, there was an error making the request.")},d.send()}else if(s||l){var d;r=v+x+(s||l);l&&(r+="?cms-ad=true"),i&&(r+="?preview-mode=true"),(d=ue.makeCORSRequest(r)).onload=function(){var e=JSON.parse(d.responseText);if(!e.data.settings)return!1;var t=JSON.parse(JSON.stringify(e.data.settings));e.data.settings.type="native",e.data.settings.ah=s||l;var a={type:"native"};a.placementId=o.pid,a.dsp="Quantum",a.dspData=t,a.ah=s||l,a.adUnit=o.pid;var n=ue.nativeAds[a.ah]||[];n.push(a),ue.nativeAds[a.ah]=n,a.adnxsId=a.adnxsId||a.adUnit;var i=a.placementId?a.placementId:ue.sspNativePlacementsDict[a.adnxsId],r=ue.placements[i];r&&null!=r.length&&(r=r.shift()),r&&(ue.processedPlacements[a.adnxsId]=ue.processedPlacements[a.adnxsId]||[],ue.processedPlacements[a.adnxsId].push(r)),ue.show(e.data)},d.onerror=function(){me.ean.console.log("Woops, there was an error making the request.")},d.send()}else{var p="ea_pid_"+o.pid,u={ea_placement_id:o.pid,ea_placement_expandable:o.expandable||!1,ea_placement_accept_auto_expandable:null==o.accept_auto_expandable||o.accept_auto_expandable,ea_placement_sharing:o.sharing||!1,ea_placement_display_video:o.video_teaser||!1,ext_inv_code:p,status:o.status,include_inventory_company_id:o.inventory_company_id,include_inventory_master_company_id:o.inventory_master_company_id,exclude_inventory_company_id:o.inventory_company_id,exclude_inventory_master_company_id:o.inventory_master_company_id,ea_device:n,pt1:o.quantum_ssp_id?o.quantum_ssp_id:"",allow_ast:o.allow_ast?o.allow_ast:"",rtb_marketplace:!0};o.hasOwnProperty("rtb_marketplace")&&"false"===o.rtb_marketplace&&(u.rtb_marketplace=!1);var m=me.ean.utils.getParameterByName("ean-apx-test");m&&"true"==m&&(u.test=1),me.ean.utils.extend(u,o.template.placement_params),me.ean.utils.extend(u,ce.queryParams);try{if(o.template.placement_params_publisher)for(var g in o.template.placement_params_publisher)u[g]=me.encodeURIComponent(me.ean.utils.getValueFromPath(me,o.template.placement_params_publisher[g])).replace(/[!'()*]/g,escape)}catch(e){pe.console&&pe.console.log("EANative ERROR: Error adding placement_params_publisher:",e)}me.ean.console.log("### BidsConfig::",o,u,ce),ce.prebid?ue.HBPrepareBids(o,u):ue.defineSPPTag(o.placementID,u)}},ue.parseOpenRTBNativeAd=function(e){var t={type:"openRTB",ah:"",adnxsId:e.tagId,sid:"",pubid:"",country:"",cpid:"",cid:e.creativeId,csize:"1x1",auctionid:e.auctionId,clickTAG:"",clickTrackers:e.native.clickTrackers,sspData:"",uid:e.uuid,uip:"",cpCode:"",dsp:"openRTB",dspData:e.native,trackClicksInBackground:!0,enableEATrack:!1};ue.initNativeAd(t)},ue.openRTBInit=function(e){var t=e.dspData,a="";t.image&&0<t.image.url.length&&(a=t.image.url);var n="",i="";t.sponsoredBy?-1!==t.sponsoredBy.indexOf("http")?i=t.sponsoredBy:(i=t.clickUrl,n=t.sponsoredBy):i=t.clickUrl;var r={settings:{ah:e.ah,sharer_domain:null,tags:{autoexpand_content_type:"",brand_logo:t.icon.url,brand_name:n,brand_url:i,content_link:t.clickUrl,content_type:"content_link",expanded_content_type:"none",expanded_summary:"",image_landscape:a,image_large_landscape:a,image_landscape_4x3:a,image_portrait:a,image_square:a,overlay_content:"",overlay_content_type:"embed",summary:t.body,teaser_type:"",title:t.title,video_url:""},type:"native"}};for(ue.show(r);t.impressionTrackers&&0<t.impressionTrackers.length;)me.ean.utils.loadScript(t.impressionTrackers.shift())},ue.initAdstory=function(e){ue.adstory=e},ue.initPlacement=function(e,t){me.ean.console.log("initPlacement",e),K=t=t||K;for(var a=0;a<e.length;a++){var n=e[a];switch(me.ean.console.log("Check for placement container",n.pid,n),n.allow_ast&&(ce.sspTAG="ast"),"true"==me.ean.utils.getParameterByName("ean-test-ttj")&&(ce.sspTAG="ttj"),(ue.placementsById[n.pid]=n).type){case"native":if(n&&me.ean.utils.checkStatus(n)&&n.template&&n.template.selector){if(t){if(W=!0,n.template.eanPlacementIdOnlyRequired&&!0===n.template.eanPlacementIdOnlyRequired&&t!==n.pid){me.ean.console.log("initPlacement Skipped because eanPlacementIdOnlyRequired = true and &eanPlacementIdOnly != placement.id",n);continue}}else if(n.template.eanPlacementIdOnlyRequired&&!0===n.template.eanPlacementIdOnlyRequired){me.ean.console.log("initPlacement Skipped because eanPlacementIdOnlyRequired = true:",n);continue}if((ce.queryParams["force-pid"]&&n.pid==ce.queryParams["force-pid"]||!ce.queryParams["force-pid"])&&(W&&t&&n.pid==t||!W)||n.ignoreSequentialLoading){var i=n.template.selector,r=n.template.alternative_selectors?n.template.alternative_selectors:null;r&&!me.ean.utils.isArray(r)&&(r=[r]),me.ean.utils.isArray(i)||(i=[i]);for(var s=!1,o=i,l=0;l<i.length;l++){n.template.check_selector_with_interval&&-1<!i[l].includes(":not(.ea-old)")&&(i[l]+=":not(.ea-old)"),o=i[l];var c,d=null;try{d=me.document.querySelector(o)}catch(e){}if(!d&&r)if(r[l])for(c=0;c<r[l].length;c++){o=r[l][c];try{d=me.document.querySelector(o)}catch(e){}if(d){n.template.selector=o;break}}if(d){if(1==n.template.fixedPosition){if(d.children.length<parseInt(n.template.position)){s=!1;break}s=!0;break}s=!0;break}}if(s){var p=n.placementID||n.pid;me.ean.console.log("##### PlacementContainerFound:",n.pid,d),(me.ean.utils.getParameterByName("ean-test-native")||me.ean.utils.getParameterByName("ean-testall-native"))&&(p=ce.defaultPlacementId,n.ssp=[{ssp_id:ce.defaultPlacementId,ssp_name:"quantum"}]),n.placementID=p;var u=n.template.method||n.method;switch(u){default:!0!==n.sspParsed&&("true"==me.ean.utils.getParameterByName("ean-placement-preview")||"1"==me.ean.utils.getParameterByName("ean-isinpreview")||"true"==String(n.skip_visibility_test)||me.ean.utils.isElementVisible(o,u,n))?(n.sspParsed=!0,ue.initSSPTag(n),ue.removePlacementForScrollingChecking(n)):ue.addPlacementForScrollingChecking(n);break;case"every":n.template.position=parseInt(n.template.position),isNaN(n.template.position)&&(n.template.position=0);for(var m=ue.utils.getValidChildren(n.template.child_selector?me.document.querySelectorAll(n.template.child_selector):d.children),g=[],v=0;v<m.length;v++){var h=m[v].getAttribute("class");h&&-1!=h.indexOf("ean_element")||g.push(m[v])}var _=n.template.position,f=n.template.frequency||2,y=(g.length-_)/f+1;y=Math.max(Math.round(y),0),n.sspParsed||(n.sspParsed={});for(var b=!1;y;){if(!n.sspParsed[_])if("true"==me.ean.utils.getParameterByName("ean-placement-preview")||"1"==me.ean.utils.getParameterByName("ean-isinpreview")||"true"==String(n.skip_visibility_test)||me.ean.utils.isElementVisible(o,u,n,_)){var x=JSON.parse(JSON.stringify(n));x.template.position=_<d.children.length-1&&g[_]?me.ean.utils.getElementIndex(d.children,g[_]):"last",x.template.method="insert_at",ue.initSSPTag(x),n.sspParsed[_]=!0}else b=!0;y--,_+=f}0==b?ue.removePlacementForScrollingChecking(n):ue.addPlacementForScrollingChecking(n)}}else if(!n.parsed&&n.template.initDelay||n.template.check_selector_with_interval){n.parsed=!0,clearTimeout(n.delayTimer),me.ean.console.log("placementContainer NOT FOUND:");!(function(e){e.delayTimer=setTimeout((function(){ue.initPlacement([e],K)}),parseInt(e.template.initDelay||1e3))})(n)}}}break;case"article":if(n&&me.ean.utils.checkStatus(n)&&n.article_template&&n.articlePID===me.ean.utils.getParameterByName("ean-article-pid")){var k=decodeURIComponent(atob(me.ean.utils.getParameterByName("adArticleJsonPath")));return k||me.ean&&(me.ean.eanArticleSettings=me.ean.eanArticleConfig||[],me.ean.eanArticleSettings.push(me.ean.utils.getParameterByName("ean-article-id"))),ue.loadAdSettings(k,n.placementID),void(ue.articlePlacement=n)}}}if(ue.loadSSPSpots(),!me.ean.retargetPixelLoaded)for(a=0;a<e.length;a++)if("true"==e[a].allow_retarget_pixel){ue.callRetargetingPixels(),me.ean.retargetPixelLoaded=!0;break}this.utils.emit("postInitPlacement")},ue.trackClickTag=function(e){me.ean.console.log("trackClickTag",e);var t=[],a=[];for(e.click_trackers_images&&null!=e.click_trackers_images&&(0<e.click_trackers_images.length?a=a.concat(e.click_trackers_images):a.push(e.click_trackers_images)),e.click_trackers&&null!=e.click_trackers&&(0<e.click_trackers.length?t=t.concat(e.click_trackers):t.push(e.click_trackers)),e.adnx&&(e.adnx.clickTAG&&t.push(e.adnx.clickTAG),null!=e.adnx.clickTrackers&&(0<e.adnx.clickTrackers.length?t=t.concat(e.adnx.clickTrackers):t.push(e.adnx.clickTrackers)));t.length;)me.ean.utils.loadScript(t.shift());for(;a.length;)me.ean.utils.loadTrackerImage(a.shift())},ue.initNativeAd=function(e){me.ean.console.log("ean initNativeAd:",e,ue.sspNativePlacementsDict),e.ah||(e.ah="c_"+me.ean.utils.getRand());var t=ue.nativeAds[e.ah]||[];if(t.push(e),ue.nativeAds[e.ah]=t,e.adnxsId=e.adnxsId||e.adUnit,!e.placementId&&e.adnxsId&&ue.placements[e.adnxsId]){ue.sspNativePlacementsDict=ue.sspNativePlacementsDict||[];var a=ue.sspNativePlacementsDict[e.adnxsId]||!1;a&&(ue.placements[a]=ue.placements[e.adnxsId],delete ue.placements[e.adnxsId])}var n=e.placementId?e.placementId:ue.sspNativePlacementsDict[e.adnxsId],i=ue.placements[n];if(i&&null!=i.length&&(i=i.shift()),me.ean.console.log("placementData:",i),i)if(ue.processedPlacements[e.adnxsId]=ue.processedPlacements[e.adnxsId]||[],ue.processedPlacements[e.adnxsId].push(i),"native"==e.type){var r=e.adTeaserJsonPath?e.adTeaserJsonPath:re.nativeURL.replace("{hash}",e.ah);e.dsp&&!ue.isIntegrationDSP[e.ah]&&(me.ean&&(me.ean.eanArticleSettings=me.ean.eanArticleConfig||[],me.ean.eanArticleSettings.push(e.ah)),ue.loadAdSettings(r,i.pid))}else if(ue[e.dsp+"Init"])if(me.ean.iframes[e.adnxsId]&&void 0!==me.ean.iframes[e.adnxsId].contentWindow.APN_macros){l=null;(s=me.ean.iframes[e.adnxsId].contentWindow).ean=s.ean||{},s.ean.placementDefaultCreativeHandler=s.ean.placementDefaultCreativeHandler||function(e){me.ean.placementDefaultCreativeHandler(e)},s.ean.initNativeAd=s.ean.initNativeAd||function(e){me.ean.initNativeAd(e)},l=(o=me.ean.iframes[e.adnxsId].contentDocument.getElementsByTagName("iframe"))[o.length-1],me.ean.utils.loadScript(re.integrationHelperURL.replace("{dsp}",e.dsp),(function(){ue[e.dsp+"Init"](e)}),l)}else ue[e.dsp+"Init"](e);else{var s,o,l=null;if(me.ean.iframes[e.adnxsId]&&void 0!==me.ean.iframes[e.adnxsId].contentWindow.APN_macros)(s=me.ean.iframes[e.adnxsId].contentWindow).ean=s.ean||{},s.ean.placementDefaultCreativeHandler=s.ean.placementDefaultCreativeHandler||function(e){me.ean.placementDefaultCreativeHandler(e)},s.ean.initNativeAd=s.ean.initNativeAd||function(e){me.ean.initNativeAd(e)},l=(o=me.ean.iframes[e.adnxsId].contentDocument.getElementsByTagName("iframe"))[o.length-1];me.ean.utils.loadScript(re.integrationHelperURL.replace("{dsp}",e.dsp),(function(){ue[e.dsp+"Init"](e)}),l)}},ue.DFPInit=function(e){me.ean.console.log("DFP-INIT",e);var t=e.dspData,a=t.image,n={settings:{ah:e.ah,sharer_domain:null,tags:{autoexpand_content_type:"",brand_logo:t.logo,brand_name:t.advertiser,brand_url:"",content_link:t.actionUrl,content_type:"content_link",expanded_content_type:"none",expanded_summary:"",image_landscape:a,image_large_landscape:a,image_landscape_4x3:a,image_portrait:a,image_square:a,overlay_content:"",overlay_content_type:"embed",summary:t.body,teaser_type:"",title:t.headline,video_url:""},type:"native"}};me.ean.console.log("DFP-INIT showNative:",n),me.ean.show(n)},ue.initGoogleAd=function(e){me.ean.console.log("initGoogleAd:",e),"dfp-native"===e.type&&ue.initNativeAd(e)},ue.showPrismFormat=function(e){return e.tags&&"prism"==e.tags.mobile_content_type&&e.tags.mobile_content&&""!=e.tags.mobile_content},ue.showAdstoryFormat=function(e){return e.tags&&"adstory"==e.tags.mobile_content_type&&e.tags.mobile_content&&""!=e.tags.mobile_content},ue.loadAdSettings=function(e,t){me.ean.utils.getParameterByName("ean-test-quantx-hash")&&me.ean.utils.getParameterByName("ean-preview")&&(e+="_temp");var a=me.document.createElement("script");a.type="text/javascript",e+=-1!=e.indexOf("?")?"&":"?",a.src=e+"r="+me.ean.utils.getRand()+"&uid="+ce.uid+"&vid="+(new Date).getTime()+"."+Math.random().toString(36).slice(-8)+"&pid="+t,me.document.getElementsByTagName("head")[0].appendChild(a)},ue.createVId=function(){return(new Date).getTime()+"."+Math.random().toString(36).slice(-8)},ue.configureDomo=function(e){if(e.domo&&0<parseInt(e.domo,10)){if(null!==e.domo_limit&&parseInt(e.domo_limit,10)<=0)return me.ean.console.log("%cPlacement %s won't domo anymore","color:firebrick;",e.pid),this;me.ean.console.log("%cPlacement %s has domo option","color:firebrick;",e.pid),setTimeout((t=e,function(){me.ean.console.log("%cPlacement %s is domoing","color:firebrick;",t.pid),t.domo_limit=null===t.domo_limit?null:parseInt(t.domo_limit,10)-1,t.sspParsed=!1,t.domoing=!0,me.ean.initPlacement([t],K)}),1e3*e.domo)}var t;return this},ue.configureIframeFooter=function(t,a){me.ean.utils.loadScript(E,(function(){t.iframefooter.target={selector:'[data-qtxpid="'+a.pid+'"]'};var e=V.createElement("script");e.type="text/javascript",e.innerText="var iframeFooter = new IframeFooter("+JSON.stringify(t.iframefooter)+");iframeFooter.build();",V.body.appendChild(e)}))},ue.clear=function(e){return Promise.all([].slice.call(ge.querySelectorAll('[data-qtxpid="'+e+'"]')).map((function(t){return new Promise(function(e){t.parentElement.removeChild(t),e()})})))},ue.show=function(l){me.ean.console.log("eaNative.show::",l),me.ean.processing=!1;var e,t,i,a,n="",r="";me.ean.utils.getParameterByName("ean-preview");if(l&&l.mediation&&(ue.freeMediationPlacementId(l.mediation.adnxsId),delete ue.placementsByAPXID[l.adnxsId]),l&&l.settings){switch(ue.nativeAdsSource[l.settings.ah]=l.settings,l.settings.type){case"native":var s=ue.nativeAds[l.settings.ah];if("full_text"!==l.settings.tags.content_type||l.settings.tags.full_text||(l.settings.tags.full_text=re.articleURL.replace("{hash}",l.settings.ah)),l.settings.vid||(l.settings.vid=this.createVId()),l.settings.expand_vid||(l.settings.expand_vid=this.createVId()),!s||!s.length)return;if(a=s.shift(),l.settings.adnx=a,l.settings.adnxsId=a.adnxsId,(i=ue.processedPlacements[a.adnxsId])&&null!=i.length&&(i=i.shift()),!i)return;t=i.template,e=i.template.template_html,l.settings.tags["data-vid"]=l.settings.vid,l.settings.tags["data-expand-vid"]=l.settings.expand_vid,a.clickTAG&&(r=a.clickTAG),n=i.template.selector;break;case"article":i=ue.articlePlacement,l.settings.adnx=l.settings,l.settings.feac=me.ean.utils.getParameterByName("ean-feac"),l.settings.sid=me.ean.utils.getParameterByName("ean-sid"),l.settings.pubid=me.ean.utils.getParameterByName("ean-pubid"),l.settings.country=me.ean.utils.getParameterByName("ean-country"),l.settings.cpid=me.ean.utils.getParameterByName("ean-cpid"),l.settings.ah=me.ean.utils.getParameterByName("ean-article-id"),l.settings.uid=me.ean.utils.getParameterByName("ean-uid"),l.settings.vid=me.ean.utils.getParameterByName("ean-vid"),l.settings.adnxsId=me.ean.utils.getParameterByName("ean-pid"),l.settings.dsp=me.ean.utils.getParameterByName("ean-dsp"),a=l.settings,t=i.article_template,e=i.article_template.template_html,n=i.article_template.selector,i.pid=me.ean.utils.getParameterByName("ean-pid"),l.settings.tags.title&&(me.document.title=l.settings.tags.title),"overlay_content"!=l.settings.tags.content_type&&"internal_content_link"!=l.settings.tags.content_type||(l.settings.tags.full_text=ue.getHTMLTag(l.settings.tags,l.settings.tags.content_type))}if(ue.nativeAdsSourceByVid[l.settings.expand_vid]=ue.nativeAdsSourceByVid[l.settings.vid]=l.settings,ue.tagsIndexes={},ue.viewsTrack=[],i){ue.clear(i.pid),ue.configureDomo(i),l.settings.pid=i.pid;var o=(a.placementConfig=i).link||"",c=me.ean.utils.getParameterByName("ean-test-quantx-hash");if("prism"==l.settings.tags.mobile_content_type&&l.settings.tags.mobile_content.includes("ADSTR")&&(l.settings.tags.mobile_content_type="adstory"),ue.showAdstoryFormat(l.settings))o=oe+l.settings.tags.mobile_content+"Folder/index.html",me.ean.utils.loadScript(oe+l.settings.tags.mobile_content),me.ean.utils.loadScript(le,(function(){var e=ge.createElement("script");e.innerText="var adstory"+l.settings.pid+" = new AdStory("+JSON.stringify(ue.adstory)+");function showAdstory"+l.settings.pid+"(){adstory"+l.settings.pid+".toggle();}",ge.body.appendChild(e)}));else if(ue.showPrismFormat(l.settings))if(o=re.prismContentURL+l.settings.tags.mobile_content+"/index.html",l.settings.tags.content_type="content_link",ue.prismCacheFlags||(ue.prismCacheFlags={}),null!=ue.prismCacheFlags[l.settings.tags.mobile_content]&&ue.prismCacheFlags[l.settings.tags.mobile_content].status)null!=ue.prismCacheFlags[l.settings.tags.mobile_content]&&ue.prismCacheFlags[l.settings.tags.mobile_content].status&&(l.settings.tags.prismFunction=ue.prismCacheFlags[l.settings.tags.mobile_content].function,l.settings.tags.prismFunctionArg="prism_iframe_"+ue.prismCacheFlags[l.settings.tags.mobile_content].function.replace("showPrism",""));else{ue.prismCacheFlags[l.settings.tags.mobile_content]={status:!0,function:"showPrism"+l.settings.pid},l.settings.tags.prismFunction=ue.prismCacheFlags[l.settings.tags.mobile_content].function,l.settings.tags.prismFunctionArg="prism_iframe_"+ue.prismCacheFlags[l.settings.tags.mobile_content].function.replace("showPrism","");var d=ge.createElement("div");d.setAttribute("id","prism_iframe_"+l.settings.pid),d.style.display="none",d.style.position="fixed",d.style.top="0",d.style.bottom="0",d.style.left="0",d.style.right="0",d.style.minWidth="100vw",d.style.height="100%",d.style.border="none",d.style.zIndex="2147483646",d.allowFullscreen=!0,d.style.overflowY="scroll",d.style.backgroundColor="#999",ge.body.appendChild(d);var p=me.ean.utils.insertHTML(d,ue.getHTMLTag(l.settings.tags,"prism",',"pre-cache":true'));ue.parseScripts(d.children);var u=ge.createElement("script");if(u.setAttribute("type","text/javascript"),u.innerText="var openOnce"+l.settings.pid+" = false;function showPrism"+l.settings.pid+'(iframe_id){var oldOverflow = $("body").css("overflow-y");$("body").css("overflow-y", "hidden");$("body").scrollTop(0);if (oldOverflow == undefined || oldOverflow == "") {$("body").css("overflow-y", "auto");} else {$("body").css("overflow-y", oldOverflow);}var container = document.getElementById(iframe_id);container.style.display = "block";var pid = iframe_id.split("_")[2];var closeIframeBtn = window.document.getElementById("closePrism_"+pid);closeIframeBtn.style.display = "inline-block";if (!openOnce'+l.settings.pid+"){openOnce"+l.settings.pid+" = true;",null!=p[0]&&p[0].forEach((function(e,t){var a=p[1][t];u.innerText=u.innerText+"window.document.getElementById('"+a+"').innerHTML = '"+e+"'+window.document.getElementById('"+a+"').innerHTML;",m++})),null!=p[2])for(var m in p[2])u.innerText=u.innerText+"var scriptNode = window.document.createElement('script');scriptNode.innerHTML = '"+p[2][m]+"';window.document.head.appendChild(scriptNode);";if(null!=p[3])for(var m in p[3])u.innerText=u.innerText+"var scriptNodeSrc = window.document.createElement('script');scriptNodeSrc.src = '"+p[3][m]+"';window.document.head.appendChild(scriptNodeSrc);";u.innerText=u.innerText+"}}",ge.body.appendChild(u);var g=ge.createElement("button");g.setAttribute("id","closePrism_"+l.settings.pid),g.style.cursor="pointer",g.style.top="5px",g.style.right="20px",g.style.position="fixed",g.style.color="#FFF",g.style.border="none",g.style.backgroundColor="transparent",g.style.fontWeight="bold",g.style.fontSize="42px",g.style.lineHeight="42px",g.style.minHeight="2rem",g.style.display="none",g.style.zIndex="9999999999",g.style.textShadow="-2px 0 black, 0 2px black, 2px 0 black, 0 -2px black",g.onclick=function(){var e=this.getAttribute("id").split("_")[1];ge.getElementById("prism_iframe_"+e).style.display="none";var t=ge.getElementsByTagName("VIDEO");for(var a in t)-1==["length","item","namedItem"].indexOf(a)&&(t[a].pause(),t[a].currentTime=0);this.style.display="none"},g.innerHTML="&times;",ge.body.insertBefore(g,ge.body.children[0])}else o=l.settings.tags&&"content_link"==l.settings.tags.content_type?l.settings.tags.content_link:(o+=-1==o.indexOf("?")?"?":"&",o+="ean-article-id={hash}&ean-article-pid={apid}&ean-uid={uid}&ean-vid={vid}&ean-pid={pid}&ean-sid={sid}&ean-cpid={cpid}&ean-pubid={pubid}&ean-country={ean-country}&ean-feac={feac}&ean-dsp={dsp}",me.ean.utils.getParameterByName("ean-test-native")&&(o+="&ean-test-native=true"),me.ean.utils.getParameterByName("ean-preview")&&(o+="&ean-preview=true"),me.ean.utils.getParameterByName("ean-testall-native")&&(o+="&ean-testall-native=true"),c&&(o+="&ean-test-quantx-hash="+me.ean.utils.getParameterByName("ean-test-quantx-hash"),isTestHash=!0),me.ean.utils.getParameterByName("ean-debug")&&(o+="&ean-debug=true"),"full_text"===l.settings.tags.content_type&&(o+="&adArticleJsonPath="+encodeURIComponent(btoa(encodeURIComponent(l.settings.tags.full_text)))),o=me.ean.utils.replaceParam(o,"hash",l.settings.ah),o=me.ean.utils.replaceParam(o,"apid",i.articlePID),o=me.ean.utils.replaceParam(o,"uid",ce.uid),o=me.ean.utils.replaceParam(o,"vid",l.settings.vid),o=me.ean.utils.replaceParam(o,"pid",i.pid),o=me.ean.utils.replaceParam(o,"sid",a.sid),o=me.ean.utils.replaceParam(o,"cpid",a.cpid),o=me.ean.utils.replaceParam(o,"pubid",a.pubid),o=me.ean.utils.replaceParam(o,"feac",a.feac),o=me.ean.utils.replaceParam(o,"ean-country",a.country),me.ean.utils.replaceParam(o,"dsp",a.dsp));c||(o=ue.utils.replaceCreativeMacros(o,a)),l.settings.tags.encoded_article_link=encodeURIComponent(o),l.settings.tags.encoded_title=encodeURIComponent(l.settings.tags.title),l.settings.tags.article_link=o,l.settings.tags.ah=l.settings.ah,"content_link"==l.settings.tags.content_type?l.settings.tags.share_page_url=l.settings.tags.content_link:l.settings.tags.share_page_url=encodeURIComponent(re.sharePageUrl.replace("{ah}",l.settings.ah).replace("{encoded_article_link}",l.settings.tags.encoded_article_link).replace("{share_page_domain_url}",me.ean.utils.replaceDiacritics(String(l.settings.tags.brand_name)).replace(/[^\w\s]/gi,"").replace(/ /g,"-").toLowerCase()+"."+(l.settings.sharer_domain||re.defaultSharePageUrl))),l.settings.tags.brand_url=o,r&&(o=a.clickTAG+encodeURIComponent(o),l.settings.tags.brand_url=a.clickTAG+encodeURIComponent(l.settings.tags.brand_url)),l.settings.tags.link=o;var v=t.method||i.method;me.ean.utils.isArray(n)||(n=[n]),me.ean.utils.isArray(e)||(e=[e]),me.ean.utils.isArray(v)||(v=[v]);var h=Object.prototype.toString;for(var m in l.settings.tags.image_landscape_4x3||(l.settings.tags.image_landscape_4x3=l.settings.tags.image_square),l.settings.tags){var _=l.settings.tags[m];if("[object String]"===h.call(_)&&"article_link"!==m&&(_=ue.utils.replaceCreativeMacros(_,a)),me.ean.utils.isArray(_)){for(var f=[],y=0;y<_.length;y++)_[y]&&null!=_[y]&&"null"!==_[y]&&f.push({value:_[y],position:y});if(_=f[Math.floor(Math.random()*f.length*.999999999)].value,-1!=e.join().indexOf("{"+m+"}")){var b={ih:ue.tagsIndexes[m]=_,eis:102};ue.viewsTrack.push(b)}}if(t.images_size&&""!==_&&t.images_size[m]){var x=_;if("a"!=l.settings.adnx.dsp){var k=de.encode(_);x=me.ean.utils.base64url_encode(k),l.settings.tags["original_"+m]=_}else l.settings.tags["original_"+m]=re.originalImagesPath.replace("{hash}",_);"a"===l.settings.adnx.dsp&&(x=ue.getURLPath("eaOriginalImagesPath").replace("{hash}",x),x=de.encode(x),x=me.ean.utils.base64url_encode(x)),l.settings.tags["hash_"+m]=x;var A=se[m]||se.defaultScale;if(t.images_scalemode&&t.images_scalemode[m]&&(A=t.images_scalemode[m]),"criteo"==l.settings.adnx.dsp&&(A="scalebox"),"Quantum"==l.settings.adnx.dsp&&l.settings.adnx.hb_criteo){var w=JSON.parse(l.settings.adnx.hb_criteo);w&&0===w.fillimages&&(A="scalebox"),me.ean.console.log("CRITEO RESIZE MODE:",A,w)}_=ue.getURLPath("externalImagesPath",l.settings.adnx.dsp).replace("{hash}",x).replace("{wxh}",t.images_size[m]).replace("{scalemode}",A)}l.settings.tags[m]=_}for(m=0;m<n.length;m++)me.ean.utils.replaceHtml(e[m],l.settings,n[m],v[Math.min(m,v.length-1)],i,t);l.settings.performance=ue.tagsIndexes,l.settings.tags.iframefooter&&0<l.settings.tags.iframefooter.length&&(l.settings.tags.iframefooter=JSON.parse(l.settings.tags.iframefooter),l.settings.tags.iframefooter.hasOwnProperty("iframe")&&l.settings.tags.iframefooter.hasOwnProperty("opening")&&l.settings.tags.iframefooter.hasOwnProperty("redirect")?(l.settings.iframefooter=!0,ue.configureIframeFooter(l.settings.tags,i)):l.settings.iframefooter=!1)}if(!me.ean.utils.getParameterByName("ean-test-ssp")){l.mediation&&l.mediation.price_paid&&(l.settings.mediation={price:l.mediation.price_paid});var I=!0===i.domoing?l&&l.mediation?ie:ae:l&&l.mediation?te:ee;me.ean.trackEvent2({we:[{et:I}]},l.settings,null,!1)}if("native"==l.settings.type){l.settings.tags.expanded_summary=me.ean.utils.replaceParam(l.settings.tags.expanded_summary,"CACHEBUSTER",Math.floor(1e5*Math.random())),l.settings.adnx&&(l.settings.tags.expanded_summary=me.ean.utils.replaceParam(l.settings.tags.expanded_summary,"CLICK_URL_ENC",encodeURIComponent(l.settings.adnx.clickTAG))),me.ean.utils.isMobile()&&"prism"==l.settings.tags.mobile_content_type&&(l.settings.tags.content_type="prism");var P=me.document.querySelectorAll(".ea_summary,.ea_expanded_summary");for(m=0;m<P.length;m++){(R=P[m]).getAttribute("data-ea-parsed")||(R.setAttribute("data-ea-parsed","true"),R.setAttribute("data-vid",l.settings.expand_vid))}var S=me.document.querySelectorAll(".ea_expand,.ea_expand_hide");"none"!==String(l.settings.tags.expanded_content_type)&&"true"===String(i.expandable)&&"false"!=String(i.accept_auto_expandable)&&"true"===String(l.settings.tags.autoexpand_content_type)&&(l.settings.expand_status=!0,ue.clickExpandHide(l.settings));for(m=0;m<S.length;m++){if(!(R=S[m]).getAttribute("data-ea-parsed")){if(R.setAttribute("data-ah",l.settings.ah),R.setAttribute("data-vid",l.settings.vid),R.setAttribute("data-pid",i.pid),R.setAttribute("data-ea-content",l.settings.tags.content_type),!l.settings.tags.expanded_summary||"none"===String(l.settings.tags.expanded_content_type)){R.setAttribute("class",R.getAttribute("class")+" ea_link");continue}R.setAttribute("data-ea-parsed","true");var C=function(e){e||(e=pe.event);var t=this.getAttribute("data-vid"),a=ue.nativeAdsSourceByVid[t];return 1!=a.expand_status?(ue.clickExpandHide(a),a.expand_status=!0,ue.trackClickAction(R)):("click"==e.type||"touchend"==e.type&&me.ean.utils.isMobile())&&(this.getAttribute("href")==a.tags.link&&me.location.hostname!=me.ean.utils.getURLHostname(a.tags.article_link)&&this.setAttribute("target","_blank"),me.ean.console.log("Line2738"),ue.processLinkClickAction(this)),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1),!1};R.onclick=R.ontouchend=C,i.FLAG_MOBILE_CLICK_BUGFIX&&me.ean.utils.isMobile()&&(R.ontouchend=null),me.ean.utils.isMobile()||"hover"!=l.settings.tags.autoexpand_content_type||"false"==String(i.accept_auto_expandable)||(R.onmouseover=C)}}var E=me.document.querySelectorAll(".ea_expand_close");for(m=0;m<E.length;m++){(R=E[m]).getAttribute("data-ea-parsed")||(R.setAttribute("data-ah",l.settings.ah),R.setAttribute("data-vid",l.settings.vid),R.setAttribute("data-pid",i.pid),R.setAttribute("data-ea-parsed","true"),R.onclick=R.ontouchend=function(e){e||(e=pe.event);this.getAttribute("data-ah");var t=this.getAttribute("data-vid"),a=this.getAttribute("data-pid"),n=ue.nativeAdsSourceByVid[t],i=ue.placementsById[a],r=me.document.querySelector(".ea_summary[data-vid='"+n.vid+"']");if(r){var s=null;i&&i.template&&i.template.max_chars&&i.template.max_chars.summary&&(s=i.template.max_chars.summary),me.ean.utils.insertHTML(r,me.ean.utils.strip(n.tags.summary,s))}var o=me.document.querySelector(".ea_expand_hide[data-vid='"+n.vid+"']");o&&(o.style.display=""),this.style.display="none";var l=me.document.querySelector(".ea_expanded_summary[data-vid='"+n.vid+"']");return l&&(me.ean.utils.insertHTML(l,""),l.style.display="none"),n.expand_status=!1,e&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},i.FLAG_MOBILE_CLICK_BUGFIX&&me.ean.utils.isMobile()&&(R.ontouchend=null))}var T=me.document.querySelectorAll(".ea_link");for(m=0;m<T.length;m++){if(!(R=T[m]).getAttribute("data-ea-parsed")&&("adstory"==l.settings.tags.mobile_content_type?(R.onclick=function(e){return e.preventDefault(),e.stopPropagation(),this.setAttribute("target",""),ue.processLinkClickAction(this),me["showAdstory"+l.settings.pid](),!1},R.target=""):"prism"==l.settings.tags.mobile_content_type&&(R.onclick=function(e){return e.preventDefault(),e.stopPropagation(),this.setAttribute("target",""),ue.processLinkClickAction(this),me[l.settings.tags.prismFunction](l.settings.tags.prismFunctionArg),!1}),R.setAttribute("data-ea-parsed","true"),R.setAttribute("data-ea-content",l.settings.tags.content_type),R.setAttribute("data-ah",l.settings.ah),R.setAttribute("data-vid",l.settings.vid),R.setAttribute("data-pid",i.pid),"prism"!=l.settings.tags.mobile_content_type&&"adstory"!=l.settings.tags.mobile_content_type)){l.settings.adnx&&"twenga"==l.settings.adnx.dsp&&R.setAttribute("rel","nofollow"),"content_link"==l.settings.tags.content_type&&R.setAttribute("target","_blank");var N="onclick";R.getAttribute("href")==l.settings.tags.link&&me.location.hostname!=me.ean.utils.getURLHostname(l.settings.tags.article_link)&&R.setAttribute("target","_blank"),"overlay_content"==l.settings.tags.content_type&&R.getAttribute("href")!=l.settings.tags.brand_url&&(R.setAttribute("oncontextmenu","return false"),R.oncontextmenu=function(e){return e&&e.preventDefault&&e.preventDefault(),!1},N="onmousedown"),R[N]=R.ontouchend=function(e){if(e||(e=pe.event),ue.processLinkClickAction(this),!l.settings.iframefooter)return e&&e.preventDefault?(e.preventDefault(),e.stopPropagation()):e.returnValue=!1,!1},i.FLAG_MOBILE_CLICK_BUGFIX&&me.ean.utils.isMobile()&&(R.ontouchend=null)}}ue.measureAndSendSizeEvent(a),l.settings.cache_lp&&Math.random()<l.settings.cache_lp&&me.setTimeout((function(){ue.loadLandingPageInIFrame(l.settings.tags.link)}),1e3),i.template.check_selector_with_interval&&me.setTimeout((function(){for(var e=me.document.getElementsByClassName("ead_"+i.pid),t=0;t<e.length;t++){var a=e[t].parentNode;void 0!==a&&(a.classList.contains("ea-old")||(a.className=a.className+" ea-old"))}void 0!==me.ean&&void 0!==i.pid&&(i.template.ea_native_element_added=!1,me.ean.placementsById[i.pid].sspParsed=!1,me.ean.initPlacement([me.ean.placementsById[i.pid]],K))}),1e3)}var B=me.document.querySelectorAll(".ea_share");for(m=0;m<B.length;m++){(R=B[m]).getAttribute("data-ea-parsed")||(R.setAttribute("data-ea-parsed","true"),R.setAttribute("data-ah",l.settings.ah),R.setAttribute("data-vid",l.settings.vid),R.setAttribute("data-pid",i.pid),R.onclick=R.ontouchend=function(e){e||(e=pe.event);this.getAttribute("data-ah");var t=this.getAttribute("data-vid"),a=(this.getAttribute("data-pid"),ue.nativeAdsSourceByVid[t]);me.ean.console.log("Line2903, click event",ue.nativeAdsSourceByVid,t);var n=!0===i.domoing?ne:Z;switch(ue.trackEvent2({ev:[{a:n}]},a),ue.trackClickTag(a),this.setAttribute("target","_blank"),this.getAttribute("data-eashare")){default:return;case"facebook":case"gplus":me.ean.utils.openURL(this.href,"_blank",null,"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")}return e&&e.preventDefault?e.preventDefault():e.returnValue=!1,!1},i.FLAG_MOBILE_CLICK_BUGFIX&&me.ean.utils.isMobile()&&(R.ontouchend=null))}for(var O in l.settings.tags)if(!l.settings.tags[O]||null!=l.settings.tags["hash_"+O]&&""==l.settings.tags["hash_"+O]){var q=me.document.querySelectorAll(".ea_hide_"+O);for(m=0;m<q.length;m++){var R;(R=q[m])&&!R.getAttribute("data-ea-hide-parsed")&&(R.setAttribute("data-ea-hide-parsed","true"),R.style.display="none")}}var L=me.document.querySelectorAll(".ea_image");for(m=0;m<L.length;m++){if(!(Y=L[m]).getAttribute("data-ea-parsed")){if(i.video_teaser&&l.settings.tags.video_url&&-1<Y.className.indexOf("ea_image_video")){Y.parentNode.removeChild(Y);continue}Y.setAttribute("data-ea-parsed","true"),Y.setAttribute("data-ea-dsp",l.settings.adnx.dsp),Y.complete||(Y.onerror=function(){var e=this.getAttribute("src"),t=e.indexOf("image/")+6,a=e.indexOf("/",t),n=e.substring(t,a),i=this.getAttribute("data-ea-dsp"),r=e.split("-"),s=r[r.length-1],o=r[0].split("/");o=o[o.length-1],n&&s&&o&&(me.ean.console.log("### hash la resize",n,s,o,e,l.settings),this.setAttribute("src",ue.getURLPath("externalResizeServerImagesPath",i).replace("{hash}",n).replace("{wxh}",s).replace("{scalemode}",o))),this.onerror=null})}}var D=me.document.querySelectorAll(".ea_video_vast");0<D.length&&ue.startPostMessageTracking(l.settings);for(m=0;m<D.length;m++){var U=D[m];if(!U.getAttribute("data-ea-parsed")){if(!i.video_teaser||!l.settings.tags.video_url){U.parentNode.removeChild(U);continue}U.setAttribute("data-ea-parsed","true"),U.setAttribute("data-ah",l.settings.ah),U.setAttribute("data-vid",l.settings.vid),U.setAttribute("data-pid",i.pid);var M={enable_sound_on_hover:!i.template.hasOwnProperty("enable_sound_on_hover")||i.template.enable_sound_on_hover};U.appendChild(ue.getHTMLTag(l.settings.tags,"video_url",l.settings.vid,M)),ue.teaserHasPauseOption(l.settings)&&ue.addVastVideosForScrollingChecking(U)}}var H=l.settings.dynamic_variables;if(H){"string"==typeof H&&(H=JSON.parse(H));for(m=0;m<H.length;m++)for(var j=me.document.querySelectorAll(".ea_creative_var_"+H[m].dynamic_variable),V=0;V<j.length;V++){var F=j[V];F.getAttribute("data-ea-parsed")||(F.innerHTML=H[m].dynamic_value,F.setAttribute("data-ea-parsed","true"))}}var z=me.document.querySelectorAll("[data-eascript=true]");if(ue.parseScripts(z),"article"==l.settings.type){var W=l.settings.tags.use_skin_background;if("true"===String(W)){var J=l.settings.tags.hash_skin_head_image,G=l.settings.tags.hash_skin_left_image,X=l.settings.tags.hash_skin_right_image,$=function(e){return!(!e||!e.length)};if($(J)||$(G)||$(X)){var Q=me.document.querySelector(".ea_background_skin");if(Q){Q.style.display="block";var Y;J=l.settings.tags.original_skin_head_image;(Y=new Image).onload=function(){var e=me.document.querySelector(".ea_background_skin .ea_skin_head");e&&(e.style.height=Y.height+"px")},Y.src=J}}me.document.body.style.background=l.settings.tags.skin_bgcolor}}}},ue.teaserHasPauseOption=function(e){return Boolean(e&&(!e.hasOwnProperty("tags")||!e.tags.hasOwnProperty("vast_teaser_pause_option")||"1"===e.tags.vast_teaser_pause_option))},ue.trackClickAction=function(e){e.getAttribute("href");var t=e.getAttribute("data-vid"),a=(e.getAttribute("data-pid"),ue.nativeAdsSourceByVid[t]);me.ean.console.log("Line3068 - trackClickAction, click event",ue.nativeAdsSourceByVid,t),a.mediation&&(a.mediation.price=0);var n=!0===ue.placementsById[a.pid].domoing?a.mediation?o:ne:a.mediation?s:Z;ue.trackEvent2({we:[{et:n}]},a,null,!1)},ue.processLinkClickAction=function(e){e.getAttribute("data-ah"),e.getAttribute("data-pid");var t=e.getAttribute("data-vid"),a=ue.nativeAdsSourceByVid[t],n=e.getAttribute("data-ea-content"),i=e.getAttribute("href"),r=e.getAttribute("target"),s=r;switch(me.ean.console.log("processLinkClickAction",a,ue.nativeAdsSourceByVid),ue.trackClickAction(e),i==a.tags.brand_url&&(n="",r="_blank"),ue.showPrismFormat(a)?n="prism":ue.showAdstoryFormat(a)?n="adstory":a.hasOwnProperty("iframefooter")&&a.iframefooter&&(n="iframefooterNoRedirect"),"content_link"==n&&(r="_blank"),"true"==e.getAttribute("data-ea-target-set-by-placement")&&(r=s),n){default:(a.click_trackers||a.click_trackers_images)&&ue.trackClickTag(a),a.adnx&&1==a.adnx.trackClicksInBackground&&ue.trackClickTag(a),"_blank"==r?me.ean.utils.openURL(i,r):setTimeout((function(){me.ean.utils.openURL(i,r)}),500);break;case"prism":case"adstory":case"iframefooterNoRedirect":ue.trackClickTag(a),a.adnx.isInPreview&&ue.sendSizeEvent(ge.body.offsetWidth,Math.max(400,ge.body.offsetHeight));break;case"overlay_content":var o=ue.getOverlayContainer(t,n);me.ean.utils.insertHTML(o,ue.getHTMLTag(a.tags,n)),ue.trackClickTag(a),ue.parseScripts(o.children),me.document.body&&me.document.body.parentElement&&(me.document.body.style.overflow=me.document.body.parentElement.style.overflow="hidden"),a.adnx.isInPreview&&ue.sendSizeEvent(ge.body.offsetWidth,Math.max(400,ge.body.offsetHeight)),me.history.pushState({overlay:!0},null,null);var l=function(e){if(e){e.state;me.removeEventListener&&me.removeEventListener("popstate",l),ue.closeOverlayContent()}};me.addEventListener&&me.addEventListener("popstate",l)}},ue.getAvailableMediationPlacementId=function(e){for(var t in ce.mediationPlacementIds)if(ce.mediationPlacementIds[t].available)return ce.mediationPlacementIds[t].available=!1,ce.mediationPlacementIds[t].placementAssignedId=e,t;return!1},ue.getLinkedMediationPlacementId=function(e){return!(!ce.mediationPlacementIds[e]||null===ce.mediationPlacementIds[e].placementAssignedId)&&ce.mediationPlacementIds[e].placementAssignedId},ue.freeMediationPlacementId=function(e){return ce.mediationPlacementIds[e].available=!0,!(ce.mediationPlacementIds[e].placementAssignedId=null)},ue.calculateMediationFloor=function(e){if(e.floor&&0<e.floor){var t=Number(e.floor);return e.currency&&(t=t/ue.exchangeRates[e.currency]*ue.exchangeRates.EUR),me.ean.console.log("Exchange rates:",e,ue.exchangeRates,t),0<t&&t<4?String((Math.ceil(10*t)/10).toFixed(1)):4<=t&&t<=9?String(Math.ceil(t).toFixed(1)):"9.0"}return!1},ue.initMediation=function(l){var c={};ue.exchangeRates={};var d=ue.getAvailableMediationPlacementId(l.id),p=ue.makeCORSRequest(re.mediationExchangeRates);p.onload=function(){ue.exchangeRates=JSON.parse(p.responseText),ue.sspNativePlacementsDict[d]=l.id,ue.placementsByAPXID[d]=ue.placementsByAPXID[l.id],ue.mediationSetup={defaultPlacementId:l.id},me.ean.utils.extend(c,ce.nativeAdSizes.ttj);var e=v+"//"+y+"?";c.id=d;var t=[],a=ue.calculateMediationFloor(ue.placementsByAPXID[l.id]);for(var n in a&&t.push("mediation_floor="+a),c)t.push(encodeURIComponent(n)+"="+encodeURIComponent(c[n]));e+=t.join("&"),me.ean.console.log("%c!initMediation","color:green;font-weight:bold;",e,l,ce,c,ue.placementsByAPXID[l.id]);var i=H(),r=!!(-1<i&&i<10),s="";r&&(s="<script type='text/javascript'>window.closeDocumentInterval =setInterval(function(){var scripts = document.getElementsByTagName('script');console.log(scripts.length); if(scripts.length>2){window.clearInterval(window.closeDocumentInterval);document.close();} }, 500);<\/script>");var o="<html><head></head><body><script type='text/javascript' src='"+e+"'><\/script>"+s+"</body></html>";ue.iframes[d]=null,ue.loadDataInIFrame(o,!r,d)},p.onerror=function(){me.ean.console.log("Woops, there was an error making the request.")},p.send()},ue.placementDefaultCreativeHandler=function(e){e.mediation&&(e.id=ue.getLinkedMediationPlacementId(e.adnxsId),ue.freeMediationPlacementId(e.adnxsId),e.id&&(delete ue.placementsByAPXID[e.adnxsId],delete e.mediation));var t=ue.placementsByAPXID[e.id];if(me.ean.console.log("%c!defaultCreative","color:green;font-weight:bold;",t),me.ean.processing=!1,t){try{var a=JSON.parse(t.default_creative)}catch(e){return}if(t&&t.default_creative&&a&&a.html_content&&a.html_content_secure){var n=t.template.selector;me.ean.utils.isArray(n)&&(n=n[0]);var i=t.template.method||t.method;me.ean.utils.isArray(i)&&(i=i[0]);var r={tags:{}},s="https:"==me.document.location.protocol,o=a.code||(s?a.html_content_secure:a.html_content);if(me.ean.trackEvent2({we:[{et:p}]},{},{placement_id:e.id},!1),"raw-js"==a.type){var l=ge.createElement("script");l.setAttribute("type","text/javascript"),l.setAttribute("data-qtxpid",t.pid),l.text=o;var c=ge.getElementsByTagName("head")[0];c&&c.appendChild(l)}else{o=me.ean.utils.parseContent(o),me.ean.utils.replaceHtml(o,r,n,i,t,t.template,!0);var d=me.document.querySelectorAll("[data-eascript=true]");ue.parseScripts(d)}}}},ue.getHTMLTag=function(e,t,a,n){a=void 0===a?"":a;var i="",r="",s="vastEmbed",o="min-height: 355px;";switch(t){case"prism":i=t,t="mobile_content";break;case"expanded_summary":"vast"==e.expanded_content_type&&(i="vast",r="max-height:355px");break;case"internal_content_link":i="external_url","auto"!=e.internal_content_link_height&&(r="height:"+e.internal_content_link_height+"px");break;case"overlay_content":"vast"==e.overlay_content_type&&(i="vast",r="max-width:640px;max-height:380px");break;case"video_url":i="vast",r="display:block;",s="vastTeaser",a=(o="")!==a?"&vid="+a:""}var l=e[t];switch(l=l.replace(/\{UNIQUE_ID\}/g,"id-"+me.ean.utils.getRand()),i){case"external_url":var c='<iframe id="ean_external_embed" frameborder="0" width ="100%" height="315px" style="width:1px; min-width:100%;min-height: 315px;'+r+'" allowfullscreen="true" mozallowfullscreen="true" scrolling="'+(ue.utils.isIOS()||"auto"==e.internal_content_link_height?"no":"auto")+'" src="'+e.internal_content_link+'"></iframe>';return"auto"==e.internal_content_link_height&&(c+='<script>function listener(event){ if ( String(event.data).indexOf("ean_internal_height_") ==-1)return; var newHeight = String(event.data).substr(20) ;var iFrameContainer = document.getElementById("ean_external_embed"); if(Math.abs(iFrameContainer.offsetHeight-newHeight)<10)return ; iFrameContainer.style.height = newHeight+ "px";} if (window.addEventListener){ addEventListener("message", listener, false)} else {attachEvent("onmessage", listener)} <\/script>'),c;case"vast":if(1==e.vast_pause_option&&"vastEmbed"===s&&(a="&vpo=1&vid="+a),n&&n.hasOwnProperty("enable_sound_on_hover")&&(a+="&enable_sound_on_hover="+n.enable_sound_on_hover),"vastTeaser"!==s)return'<iframe frameborder="0" width ="100%" height="100%" style="'+o+r+'" allowfullscreen="true" mozallowfullscreen="true" src="'+re[s]+encodeURIComponent(l)+a+'"></iframe>';var d=re[s]+encodeURIComponent(l)+a,p="ea_vast_content|"+e.video_url,u=ge.createElement("iframe");return u.src=d,u.onload=function(){(u.contentWindow?u.contentWindow:u.contentDocument.document?u.contentDocument.document:u.contentDocument).postMessage(p,"*"),u.onload=null},u.setAttribute("frameborder",0),u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("allowfullscreen","true"),u.setAttribute("mozallowfullscreen","true"),u;case"prism":var m=null;pe.XDomainRequest?m=new XDomainRequest:pe.XMLHttpRequest?m=new XMLHttpRequest:console.log("Votre navigateur ne gère pas l'AJAX cross-domain !");var g="";return m.onload=function(){g=m.responseText},m.open("GET",C+"/prism/"+e.mobile_content+"/index.html",!1),m.send(),g;default:return l}},ue.parseScripts=function(e){for(var t=[],a=0,n=e.length;a<n;a++){(i=e[a])&&"SCRIPT"==String(i.tagName).toUpperCase()&&!i.getAttribute("data-eaparsed")&&t.push(i)}for(a=0,n=t.length;a<n;a++){var i;if((i=t[a])&&"SCRIPT"==String(i.tagName).toUpperCase()&&!i.getAttribute("data-eaparsed")){var r=me.document.createElement("script");r.type="text/javascript",i.parentElement.appendChild(r),i.parentElement.removeChild(i);for(var s=i.attributes,o=0;o<s.length;o++)r.setAttribute(s[o].name,s[o].value);r.setAttribute("data-eaparsed",!0),i.src?r.src=i.src:r.text=i.innerHTML}}},ue.closeOverlayContent=function(){var e=me.document.getElementById("ea-overlay-content");e&&(e.style.display="none"),me.document.body&&me.document.body.parentElement&&(me.document.body.style.overflow=me.document.body.parentElement.style.overflow=""),e&&e.parentNode&&e.parentNode.removeChild(e);var t=e.getAttribute("data-vid"),a=ue.nativeAdsSourceByVid[t];ue.measureAndSendSizeEvent(a.adnx)},ue.getOverlayCloseButton=function(e){var t=me.document.createElement("div");switch(e){case"prism":t.innerHTML="<div style =\"background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAFHRFWHRTb2Z0d2FyZQBnbHVlLTAuMTEuMQ2IyEMAAAASdEVYdENvbW1lbnQANmUzZTQwZDliMpCixHYAAAB1SURBVHjaY2AgDXAwkAE4qqrrWlvbOgtI1vT9x4+fV69dv8nAwKBAkqbnz1+8TEvPtBnVNHw0MSFznjx99mLWzOlfyEpSp8+cu8jAwGAwqnl4az546MhJBgYGBRYiNf5oa21qZmBgYODm5n7NwMDwgIHc4hEAyhvOeKqBfrQAAAAASUVORK5CYII='); width: 14px; height: 24px; \"></div>",t.setAttribute("style","position:absolute; z-index:3147483657;left:10px;top:0px;  cursor: pointer;padding:10px; ");break;default:t.innerHTML="<div style ='background: url(http://de5zarwna0j2q.cloudfront.net/site/images/videoCloseBtn.png); width: 16px; height: 16px; '></div>",t.setAttribute("style","position:absolute; z-index:12234;right:10px;top:10px; opacity: 0.7;cursor: pointer;padding:14px; ")}return t.onmouseover=function(){t.style.opacity="1"},t.onmouseout=function(){t.style.opacity="0.7"},t.onclick=function(){ue.closeOverlayContent()},t},ue.getOverlayContainer=function(e,t){var a=me.document.getElementById("ea-overlay-content");a||((a=me.document.createElement("div")).innerHTML="<div id='ea-overlay-wrapper' style='display: table;width:100%;height:100%;'><div id='ea-overlay-inner-container' oncontextmenu='return false' style='display: table-cell;vertical-align: middle;text-align: center;width:100%;height:100%;'></div></div>",a.setAttribute("id","ea-overlay-content"),a.setAttribute("style","display:block;position:fixed;z-index: 3147483656;width:100%;height:100%;top:0;left:0;background:#000;background:rgba(0,0,0,0.8);"),a.appendChild(ue.getOverlayCloseButton(t))),a.setAttribute("data-vid",e);var n=a.children[0];return a.onclick=function(e){e||(e=pe.event);var t=e.target;if(t||(t=e.srcElement),t==a.children[0]||t==n.children[0])return ue.closeOverlayContent(),!1},me.document.body.appendChild(a),n.children[0]},ue.trackEvent2=function(e,t,a,n){"use strict";if(t){n||(n=l[t.type]);var i={};i.pid=t.pid||a.placement_id,i.h="nuid."+ce.uid+"."+i.pid,i.type=e,i.ft=n,i.ch=t.ah,i.uid=ce.uid;var r="normal";me.ean.utils.isMobile()&&(r=me.ean.utils.isTablet()?"tablet":"phone"),i.dv=r,ue.console.log(">>> trackEvent2",me.ean.HBWinAdUnitData,"adSettings:",t,"placementDetails:",a),me.ean.HBWinAdUnitData&&me.ean.HBWinAdUnitData[t.pid]&&(i.cpm=me.ean.HBWinAdUnitData[t.pid].cpm,i.ssp=f[me.ean.HBWinAdUnitData[t.pid].hb_bidder],i.cid=i.cid||me.ean.HBWinAdUnitData[t.pid].hb_creative_id,i.ssp_pid=me.ean.HBWinAdUnitData[t.pid].ssp_placement_id),t.mediation&&t.mediation.price&&(i.cpm=t.mediation.price),a&&(a.ssp&&(i.ssp=a.ssp),a.ssp_placement_id&&(i.ssp_pid=a.ssp_placement_id),i.origin=1,a.origin&&"direct"===a.origin&&(i.origin=0));var s=t;t.adnx&&(s=t.adnx),i.feac="true"===String(s.feac)?1:0,i.pubid=s.pubid,i.sid=s.sid,i.cpid=s.cpid,i.cid=s.cid,i.dsp=s.dsp||"",me.ean.console.log("%c!!! Tracking event triggered: ","color:orange;font-weight:bold;",i,e,t,n);var o=re.trackingURL+"?p="+de.encode(JSON.stringify(i));this.createNewPixel(o)}else me.console&&me.console.log&&me.console.log("EA Error: - tracking failed")},ue.createNewPixel=function(e){var t=me.document.createElement("img");t.src=e,t.style.display="none",me.document.getElementsByTagName("body")[0].appendChild(t)},ue.setUID=function(e){!ce.uid&&e&&(ce.uid=e||0)},ue.loadPlacementData=function(){var e=me.ean.utils.getParameterByName("ean-article-id"),t=me.ean.utils.getParameterByName("ean-article-pid");e&&t&&(me.ean.utils.loadPlacementConfig(re.articlePlacemensConfigURL),me.ean&&(me.ean.eanArticleConfig=me.ean.eanArticleConfig||[],me.ean.eanArticleConfig.push(t))),me.ean.utils.loadPlacementConfig(re.nativePlacementsConfigURL)},ue.init=function(){(1!=ue.initialized||W)&&(me.ean.console.log("initEmbed"),ue.initialized=!0,me.ean.utils.getParameterByName("ean-uid")?ue.setUID(me.ean.utils.getParameterByName("ean-uid")):ue.setUID(me.ean.utils.guid()),ue.initPrebidJs(),ue.loadPlacementData())},ue.initPrebidJs=function(){me.ean.console.log("!!! INITPREBIDJS !!!",ue,me.ean),me.ean.prebid_que=me.ean.prebid_que||[],me.eanpbjs=me.eanpbjs||{};var e=me.eanpbjs;e.que=e.que||[],(function(){if(!me.ean.prebidJSLoaded){var e=me.document.createElement("script");e.type="text/javascript",e.async=!0,e.src=ue.prebidUrl;var t=me.document.getElementsByTagName("head")[0];t.insertBefore(e,t.firstChild),me.ean.prebidJSLoaded=!0}})(),e.que.push((function(){e.bidderSettings={standard:{adserverTargeting:[{key:"hb_adUrl",val:function(e){return e.adUrl}},{key:"hb_ad",val:function(e){return e.ad}},{key:"hb_bidder",val:function(e){return e.bidderCode}},{key:"hb_adid",val:function(e){return e.adId}},{key:"hb_pb",val:function(e){return e.pbHg}},{key:"hb_size",val:function(e){return e.size}},{key:"hb_creative_id",val:function(e){return e.creative_id||e.creativeId}},{key:"hb_native",val:function(e){if(me.ean.console.log(">>>>>> hb_native:",e),e.native)return JSON.stringify(e.native)}},{key:"hb_criteo",val:function(e){if(me.ean.console.log(">>>>>> hb_criteo:",e),e.cobj)return JSON.stringify(e.cobj)}},{key:"nurl",val:function(e){return e.nurl}},{key:"cpm",val:function(e){return e.cpm}}]}}}))},ue.HBPrepareBids=function(e,t){var a=e.pid,n=e.ssp||[];ue.sspNativePlacementsDict=ue.sspNativePlacementsDict||{};var i=[];me.googletag=me.googletag||{};var r=me.googletag;r.cmd=r.cmd||[],me.ean.console.log("###### HBprepareBids:",a,n);for(var s in!0===e.domoing&&(n=n.filter((function(e){return"appnexus"===e.ssp_name}))),ue.googleAdUnits=ue.googleAdUnits||{},n){var o=n[s];me.ean.console.log("ssp",o);var l=o.ssp_id;ue.sspNativePlacementsDict[l]=a,me.ean.console.log("aaaa",l,o.ssp_name);var c={params:{}};switch(o.ssp_name){case"appnexus":c.bidder="appnexus",c.params.placementId=l,c.params.keywords={},c.params.keywords.ssp_placement_id=l,c.params.ssp_placement_id=l,"true"===me.ean.utils.getParameterByName("prebidast_debug")&&(c.params.prebidast_debug={debug:me.ean.utils.getParameterByName("prebidast_debug"),dongle:me.ean.utils.getParameterByName("prebidast_dongle"),member_id:me.ean.utils.getParameterByName("prebidast_debug_member")});break;case"improvedigital":c.bidder="improvedigital",c.params.placementId=l,c.params.keyValues={hb:["true"]},c.params.ssp_placement_id=l;break;case"google":ue.googleAdUnits[a]=l;break;case"quantum":for(var d in c.bidder="quantum",c.params.auid=l,c.params.placementId=l,c.params.ssp_placement_id=l,t){if("string"==typeof t[d]&&(t[d]=t[d].replace(/([%:.,])/gm,"_")),d!==d.replace(/([%:.,])/gm,"_"))t[d.replace(/([%:.,])/gm,"_")]=t[d],delete t[d]}}for(var p in t)t[p]=t[p].toString();if(c.params.keywords?me.ean.utils.extend(c.params.keywords,t):me.ean.utils.extend(c.params,t),o.key_value)for(p=0;p<o.key_value.length;p++){var u=o.key_value[p];for(var m in u)c.params.keywords?c.params.keywords[m]=u[m].toString():c.params[m]=u[m].toString()}try{if(e.template.placement_params_publisher)for(var g in e.template.placement_params_publisher)c.params.keywords?c.params.keywords[g]=me.encodeURIComponent(me.ean.utils.getValueFromPath(me,e.template.placement_params_publisher[g])).replace(/[!'()*]/g,escape):c.params[g]=me.encodeURIComponent(me.ean.utils.getValueFromPath(me,e.template.placement_params_publisher[g])).replace(/[!'()*]/g,escape)}catch(e){pe.console&&pe.console.log("EANative ERROR: Error adding placement_params_publisher:",e)}me.ean.console.log("###### EAdConfig.queryParams::",c.params),i.push(c)}me.ean.console.log("bids",i),ue.HBAddUnitsInQueue(a,i)},ue.HBAddUnitsInQueue=function(p,e){me.eanpbjs=me.eanpbjs||{};var u=me.eanpbjs;me.googletag=me.googletag||{};me.googletag;var m=ue.placementsByAPXID[p];if(0==e.length)return me.ean.console.log("1. placementData:",m),void(m.mediation_before_default_placement&&1==m.mediation_before_default_placement?ue.initMediation({id:p}):ue.placementDefaultCreativeHandler({id:p}));me.ean.console.log("%c!AddUnits in HB QUEUE...","color:blue;font-weight:bold;",p,e);var n=[],g=[],t={banner:{sizes:[[1,1],[19,11],[19,12],[608,226],[608,227]]},native:{}},i="nhub-"+p+"-"+Math.random().toString(36).substring(7),a=function(e,t){if(e.length){var a={code:i,mediaTypes:t,bids:e};void 0!==t.video&&(a.renderer={options:{audioOnMouseover:!1,skippable:{enabled:!1},adText:"fr-FR"===(navigator.language||navigator.userLanguage)?"Publicité":"Ad",showBigPlayButton:!1}}),g.push(i),n.push(a)}};a(e.filter((function(e){return"quantum"===e.bidder||"improvedigital"===e.bidder})),t),e.filter((function(e){return"appnexus"===e.bidder})).forEach((function(e){!0===m.outstream_video&&a([e],{video:{context:"outstream",playerSize:[300,250]}}),a([e],t)}));var v=[],h=function(e){v=v.concat(e.bids)};u.que.push((function(){u.onEvent("bidRequested",h),u.addAdUnits(n),u.setConfig({consentManagement:{cmpApi:"iab",timeout:5e3,allowAuctionWithoutConsent:!0}}),me.ean.console.log(" ######## AdUnits: ",g,n),u.requestBids({timeout:2e3,adUnitCodes:g,bidsBackHandler:function(e){var t=u.getHighestCpmBids().filter((function(e){return-1!==g.indexOf(e.adUnitCode)})),a=t.length?t[0].adserverTargeting:null;if(a&&t[0].ortbNative&&(a.ortbNative=t[0].ortbNative),u.offEvent("bidRequested",h),me.ean.console.log("%c!HBBidsRequests=","color:green;font-weight:bold;",v),me.ean.console.log("%c!HBBidsResponses=","color:green;font-weight:bold;",e,a),me.ean.renderDefaultCreative=function(){me.ean.console.log("%c![DefaultCreative]all bids","color:orange;font-weight:bold;");var e=p;me.ean.console.log("defaultCreative",p,e,m),m.mediation_before_default_placement&&1==m.mediation_before_default_placement?ue.initMediation({id:e}):ue.placementDefaultCreativeHandler({id:e});for(var t=0;t<v.length;t++){var a={placement_id:p,ssp_placement_id:v[t].params.ssp_placement_id||v[t].params.keywords.ssp_placement_id,ssp:f[v[t].bidder]};me.ean.trackEvent2({we:[{et:_}]},{},a,!1)}me.ean.configureDomo(m)},a&&a.hb_adid){for(var n=a,i=0;i<v.length;i++)if(v[i].bidId==n.hb_adid)n.ssp_placement_id=null,v[i].params.ssp_placement_id?n.ssp_placement_id=v[i].params.ssp_placement_id:v[i].params.keywords.ssp_placement_id&&(n.ssp_placement_id=v[i].params.keywords.ssp_placement_id);else{var r={placement_id:p,ssp_placement_id:v[i].params.ssp_placement_id||v[i].params.keywords.ssp_placement_id,ssp:f[v[i].bidder]};me.ean.trackEvent2({we:[{et:_}]},{},r,!1)}if(me.ean.HBWinAdUnitData=me.ean.HBWinAdUnitData||{},me.ean.HBWinAdUnitData[p]=n,me.ean.console.log("%cAnd the winner is: ","color:red;font-weight:bold;",n,p),"quantum"!==n.hb_bidder){var s=u.getBidResponses();for(var o in s)if(s.hasOwnProperty(o))for(var l=s[o].bids,c=0;c<l.length;c++){var d=l[c];"quantum"===d.bidder&&(me.ean.console.log("Send Loss Notification:",d.lurl),me.ean.sendLossNotification(d.lurl))}}if(ue.googleAdUnits[p])me.ean.utils.initGptSlot(m,g[0]);else switch(n.hb_bidder){case"quantum":me.ean.loadQuantumAd(n,p);break;default:me.ean.loadPreBidAd(n,p,t[0].adUnitCode)}}else ue.googleAdUnits[p]?me.ean.utils.initGptSlot(m):me.ean.renderDefaultCreative()}})}))},ue.removePlacementForScrollingChecking=function(e){if(0<ue.placementsNotVisible.length)for(var t in ue.placementsNotVisible)if(ue.placementsNotVisible[t]==e){ue.placementsNotVisible.splice(t,1);break}0==ue.placementsNotVisible.length&&me[R](L+"scroll",ue.windowScrollHandler,!1)},ue.addPlacementForScrollingChecking=function(e){var t=!1;if(0<ue.placementsNotVisible.length)for(var a in ue.placementsNotVisible)ue.placementsNotVisible[a]==e&&(t=!0);(0==t&&(e.ignoreSequentialLoading=!0,ue.placementsNotVisible.push(e)),0<ue.placementsNotVisible.length&&1==e.template.check_visibility_with_interval&&(me.clearInterval(ue.checkPlacementVisibilityInterval),ue.checkPlacementVisibilityInterval=me.setInterval(ue.checkPlacementsNotVisibleHandler,100)),me.ean.checkVisibilityOnTop&&F())?me.ean.utils.getTopWindow(pe)[0<ue.placementsNotVisible.length?q:R](L+"scroll",ue.windowScrollHandler,!1):me[0<ue.placementsNotVisible.length?q:R](L+"scroll",ue.windowScrollHandler,!1)},ue.windowScrollHandler=function(){me.clearTimeout(ue.placementCheckScrollInterval),ue.placementCheckScrollInterval=me.setTimeout(ue.checkPlacementsNotVisibleHandler,100)},ue.checkPlacementsNotVisibleHandler=function(){0<ue.placementsNotVisible.length&&ue.initPlacement(ue.placementsNotVisible,K)},ue.removeVastVideosForScrollingChecking=function(e){if(0<ue.videosOnAutoPlay.length)for(var t in ue.videosOnAutoPlay)if(ue.videosOnAutoPlay[t]===e){ue.videosOnAutoPlay.splice(t,1);break}0==ue.videosOnAutoPlay.length&&(me.ean.checkVisibilityOnTop&&F()?me.ean.utils.getTopWindow(pe)[R](L+"scroll",ue.windowVideoScrollHandler,!1):me[R](L+"scroll",ue.windowVideoScrollHandler,!1))},ue.addVastVideosForScrollingChecking=function(e){var t=!1;if(0<ue.videosOnAutoPlay.length)for(var a in ue.videosOnAutoPlay)ue.videosOnAutoPlay[a]===e&&(t=!0);(!1===t&&ue.videosOnAutoPlay.push(e),me.ean.checkVisibilityOnTop&&F())?me.ean.utils.getTopWindow(pe)[0<ue.videosOnAutoPlay.length?q:R](L+"scroll",ue.windowVideoScrollHandler,!1):me[0<ue.videosOnAutoPlay.length?q:R](L+"scroll",ue.windowVideoScrollHandler,!1)},ue.addAdElForScrollingChecking=function(e,t){me.ean.checkVisibilityOnTop&&F()?me.ean.utils.getTopWindow(pe)[q](L+"scroll",(function(){ue.windowAdScrollHandler(e,t)}),!1):me[q](L+"scroll",(function(){ue.windowAdScrollHandler(e,t)}),!1)},ue.windowAdScrollHandler=function(e,t){me.clearTimeout(ue.vastAdsCheckScrollInterval),ue.vastAdsCheckScrollInterval=me.setTimeout(ue.checkAdsNotVisibleHandler(e,t),100)},ue.windowVideoScrollHandler=function(){me.clearTimeout(ue.vastVideosCheckScrollInterval),ue.vastVideosCheckScrollInterval=me.setTimeout(ue.checkVastVideosNotVisibleHandler,100)},ue.checkAdsNotVisibleHandler=function(e,t){var a=e.querySelectorAll(".ea-yahoo-integration-beacon");me.ean.utils.isElementVisiblePercent(e,50)&&a.length<1&&(me.clearTimeout(ue.vastAdsExtrasScrollInterval),ue.vastAdsExtrasScrollInterval=me.setTimeout((function(){me.ean.dspLoadExtras[t.settings.ah](e)}),1e3))},ue.checkVastVideosNotVisibleHandler=function(){if(0<ue.videosOnAutoPlay.length)for(var e=0;e<ue.videosOnAutoPlay.length;e++){var t=ue.videosOnAutoPlay[e].getAttribute("data-vid");me.ean.console.log("Video: "+t+" scroll visibility: "+(100-ue.getVisiblePercentForAd(t))),me.ean.utils.isElementVisiblePercent(ue.videosOnAutoPlay[e],ue.getVisiblePercentForAd(t))&&ue.videosOnAutoPlay[e].querySelector("iframe").contentWindow?ue.videosOnAutoPlay[e].querySelector("iframe").contentWindow.postMessage("ea_video_play|"+t,"*"):ue.videosOnAutoPlay[e].querySelector("iframe").contentWindow&&ue.videosOnAutoPlay[e].querySelector("iframe").contentWindow.postMessage("ea_video_pause|"+t,"*")}},ue.getVisiblePercentForAd=function(e){var t=ue.nativeAdsSourceByVid[e];return t.hasOwnProperty("tags")?t.tags.hasOwnProperty("expand_viewability")&&0<parseInt(t.tags.expand_viewability)&&t.hasOwnProperty("expand_vid")&&t.expand_vid===e?100-parseInt(t.tags.expand_viewability):t.tags.hasOwnProperty("viewability")&&!isNaN(parseInt(t.tags.viewability))&&0<parseInt(t.tags.viewability)&&t.vid===e?100-parseInt(t.tags.viewability):50:50},ue.startPostMessageTracking=function(){function e(e){if(e.data&&e.data.indexOf){if(e.data&&-1<e.data.indexOf("ea_track_")){var t=e.data.split("|")[1],a=ue.nativeAdsSourceByVid[t];ue.trackClickTag(a)}e.data&&-1<e.data.indexOf("expandVid_")&&ue.expandVideoTeaser(e.data),e.data&&-1<e.data.indexOf("closeVid_")&&ue.closeVideoTeaser(e.data)}}me.addEventListener?me.addEventListener("message",e,!1):me.attachEvent("message",e),ue.postMesageTrackingEnabled=!0},ue.clickExpandHide=function(e){var t=me.document.querySelector(".ea_expand_close[data-vid='"+e.vid+"']");null!=t&&(t.style.display="block");var a=me.document.querySelector(".ea_summary[data-vid='"+e.vid+"']");me.ean.utils.insertHTML(a,e.tags.summary);var n=me.document.querySelector(".ea_expanded_summary[data-vid='"+e.expand_vid+"']");if(n){var i=1==e.tags.vast_pause_option?e.expand_vid:"";me.ean.utils.insertHTML(n,ue.getHTMLTag(e.tags,"expanded_summary",i)),1==e.tags.vast_pause_option&&(ue.postMesageTrackingEnabled&&ue.startPostMessageTracking(e),ue.addVastVideosForScrollingChecking(n)),n.style.display="",ue.parseScripts(n.children)}for(var r=me.document.querySelectorAll(".ea_expand_hide[data-vid='"+e.vid+"']"),s=0;s<r.length;s++)r[s].style.display="none";ue.measureAndSendSizeEvent(e.adnx)},ue.expandVideoTeaser=function(e){var t=me.document.querySelector('.ea_video_vast[data-vid="'+e.split("_")[1]+'"]'),a=me.ean.utils.getParentByClass(t,"ea_native_element");-1===a.className.indexOf("ea_click_expand_video")&&(a.className+=" ea_click_expand_video")},ue.closeVideoTeaser=function(e){var t=me.document.querySelector('.ea_video_vast[data-vid="'+e.split("_")[1]+'"]'),a=me.ean.utils.getParentByClass(t,"ea_native_element");a.className=a.className.replace("ea_click_expand_video","")},ue.sendSizeEvent=function(e,t){me.parent&&me.parent.postMessage("size_"+e+"x"+t,"*")},ue.measureAndSendSizeEvent=function(e){if(("true"==String(e.isInPreview)||"1"==String(e.isInPreview))&&me.parent){var t=e.placementConfig.template.selector;me.ean.utils.isArray(t)||(t=[t]);var a=null;for(var n in t)if(null!=(a=ge.querySelector(t[n])))break;a&&ue.sendSizeEvent(a.offsetWidth,a.offsetHeight)}},ue.callRetargetingPixels=function(){var e=me.location.protocol+"//cdn.elasticad.net/native/serve/js/custom/custom.gz.js";me.ean.utils.loadScript(e)};var de={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",lookup:null,ie:/MSIE /.test(navigator.userAgent),ieo:/MSIE [67]/.test(navigator.userAgent),encode:function(e){var t,a,n=de.toUtf8(e),i=-1,r=n.length,s=[,,,];if(de.ie){for(var o=[];++i<r;)t=n[i+1],a=n[i+2],s[0]=n[i]>>2,s[1]=(3&n[i])<<4|n[++i]>>4,isNaN(t)?s[2]=s[3]=64:(s[2]=(15&n[i])<<2|n[++i]>>6,s[3]=isNaN(a)?64:63&n[i]),o.push(de.alphabet[s[0]],de.alphabet[s[1]],de.alphabet[s[2]],de.alphabet[s[3]]);return o.join("")}for(o="";++i<r;)t=n[i+1],a=n[i+2],s[0]=n[i]>>2,s[1]=(3&n[i])<<4|n[++i]>>4,isNaN(t)?s[2]=s[3]=64:(s[2]=(15&n[i])<<2|n[++i]>>6,s[3]=isNaN(a)?64:63&n[i]),o+=de.alphabet[s[0]]+de.alphabet[s[1]]+de.alphabet[s[2]]+de.alphabet[s[3]];return o},toUtf8:function(e){var t,a=-1,n=e.length,i=[];if(/^[\x00-\x7f]*$/.test(e))for(;++a<n;)i.push(e.charCodeAt(a));else for(;++a<n;)(t=e.charCodeAt(a))<128?i.push(t):t<2048?i.push(t>>6|192,63&t|128):i.push(t>>12|224,t>>6&63|128,63&t|128);return i}};ue.B64=de;var q=ge.addEventListener?"addEventListener":"attachEvent",R=ge.addEventListener?"removeEventListener":"detachEvent",L=ge.addEventListener?"":"on",D=function(){var e=ge.readyState;return!!(function(){var e=ge.readyState;if("complete"===e||"loaded"===e)return!0;if("interactive"!=e)return!1;if(!ge.documentElement.doScroll)return!0;try{return ge.documentElement.doScroll("left"),!0}catch(e){return!1}})()||("interactive"===e&&-1==navigator.appName.indexOf("Internet Explorer")||"loaded"===e||"complete"===e)},U=function(){return!!D()&&(me.adnxsDomReady=!0,ge[R](L+"DOMContentLoaded",U,!1),ge[R](L+"readystatechange",U,!1),me[R](L+"load",U,!1),M(),!0)},M=function(){ue.ean_window_ready&&!W||(ue.ean_window_ready=!0,me.clearInterval(ue.ieTimeout),me.ean.console.log("windowReady:",ce.queryParams),ue.init())},H=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e};if(D())M();else{ge[q](L+"DOMContentLoaded",U,!1),ge[q](L+"readystatechange",U,!1),me[q](L+"load",U,!1);var j=H();-1<j&&j<9&&(ue.ieTimeout=me.setInterval((function(){U()&&me.clearInterval(ue.ieTimeout)}),500))}return me.ean.loaded=!0,me.ean}F()&&(me=pe.parent,ge=pe.parent.document),W||-1!==pe.location.href.indexOf("talktalk.co.uk")?setTimeout((function(){me.ean?me.ean.utils.waitOnce("postInitPlacement",(function(){me.ean.utils.removeListener("postInitPlacement",arguments.callee),delete me.ean.utils.eventRaised.postInitPlacement,-1!==pe.location.href.indexOf("talktalk.co.uk")?setTimeout((function(){n()}),500):n()})):n()}),500):n()})(window,document);